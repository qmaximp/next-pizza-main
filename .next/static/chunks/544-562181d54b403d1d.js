(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[544],{2634:()=>{},7815:(e,t,s)=>{"use strict";s.d(t,{to:()=>a.AdressInput,$n:()=>O.Button,l7:()=>r.CartButton,_H:()=>l.CartDrawer,Sc:()=>Q.Checkbox,C$:()=>i.CheckboxFiltersGroup,bz:()=>L.CheckoutAddressForm,bG:()=>D,gG:()=>n.CheckoutItem,$Y:()=>J,Vx:()=>b,Wu:()=>j.ChoosePizzaForm,JQ:()=>v,mc:()=>N,Qr:()=>y.Q,yn:()=>w.y,hg:()=>$.FormTextarea,iH:()=>z.GroupVariants,V0:()=>k,pd:()=>B.p,AA:()=>I,iz:()=>F.ProductForm,X$:()=>T,F1:()=>P.RangeSlider,DO:()=>E.SearchInput,EA:()=>Y,hE:()=>_,v_:()=>g});var a=s(2703),r=s(5821),l=s(4799);s(3863),s(1015);var i=s(8882),n=s(7358),d=s(5155),o=s(1567),c=s(2115);let m=e=>{let{title:t,value:s,className:a}=e;return(0,d.jsxs)("div",{className:(0,o.cn)("flex my-4",a),children:[(0,d.jsxs)("span",{className:"flex flex-1 text-lg text-neutral-500",children:[t,(0,d.jsx)("div",{className:"flex-1 border-b border-dashed border-b-neutral-200 relative -top-1 mx-2"})]}),(0,d.jsx)("span",{className:"font-bold text-lg",children:s})]})},x=e=>{let{className:t}=e;return(0,d.jsxs)("div",{className:(0,o.cn)("flex items-center justify-between",t),children:[(0,d.jsxs)("div",{className:"flex items-center gap-5",children:[(0,d.jsx)("div",{className:"w-[50px] h-[50px] bg-primary/10 rounded-full animate-pulse"}),(0,d.jsx)("h2",{className:"w-40 h-5 bg-primary/10 rounded animate-pulse"})]}),(0,d.jsx)("div",{className:"h-5 w-10 bg-primary/10 rounded animate-pulse"}),(0,d.jsx)("div",{className:"h-8 w-[133px] bg-primary/10 rounded animate-pulse"})]})};var u=s(7661),p=s(6936),f=s(9266),h=s(2884);let g=e=>{let{title:t,endAdornment:s,className:a,contentClassName:r,children:l}=e;return(0,d.jsxs)("div",{className:(0,o.cn)("bg-white rounded-3xl",a),children:[t&&(0,d.jsxs)("div",{className:"flex items-center justify-between p-5 px-7 border-b border-gray-100",children:[(0,d.jsx)(_,{text:t,size:"sm",className:"font-bold"}),s]}),(0,d.jsx)("div",{className:(0,o.cn)("px-5 py-4",r),children:l})]})},b=e=>{let{totalAmount:t,loading:s,className:a}=e,r=15*t/100;return(0,d.jsxs)(g,{className:(0,o.cn)("p-6 sticky top-4",a),children:[(0,d.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,d.jsx)("span",{className:"text-xl",children:"Итого:"}),s?(0,d.jsx)(Y,{className:"h-11 w-48 rounded-[6px]"}):(0,d.jsxs)("span",{className:"h-11 text-[34px] font-extrabold",children:[Math.round(t+250+r)," ₽"]})]}),(0,d.jsx)(m,{title:(0,d.jsxs)("div",{className:"flex items-center",children:[(0,d.jsx)(u.A,{size:18,className:"mr-2 text-gray-400"}),"Стоимость корзины:"]}),value:s?(0,d.jsx)(Y,{className:"h-6 w-16 rounded-[6px]"}):"".concat(t," ₽")}),(0,d.jsx)(m,{title:(0,d.jsxs)("div",{className:"flex items-center",children:[(0,d.jsx)(p.A,{size:18,className:"mr-2 text-gray-400"}),"Налоги:"]}),value:s?(0,d.jsx)(Y,{className:"h-6 w-16 rounded-[6px]"}):"".concat(Math.round(r)," ₽")}),(0,d.jsx)(m,{title:(0,d.jsxs)("div",{className:"flex items-center",children:[(0,d.jsx)(f.A,{size:18,className:"mr-2 text-gray-400"}),"Доставка:"]}),value:s?(0,d.jsx)(Y,{className:"h-6 w-16 rounded-[6px]"}):"".concat(250," ₽")}),(0,d.jsxs)(O.Button,{loading:s,type:"submit",className:"w-full h-14 rounded-2xl mt-6 text-base font-bold",children:["Перейти к оплате",(0,d.jsx)(h.A,{className:"w-5 ml-2"})]})]})};var j=s(5360);let v=e=>{let{name:t,imageUrl:s,price:a,onSubmit:r,className:l,loading:i}=e;return(0,d.jsxs)("div",{className:(0,o.cn)(l,"flex flex-1"),children:[(0,d.jsx)("div",{className:"flex items-center justify-center flex-1 relative w-full",children:(0,d.jsx)("img",{src:s,alt:t,className:"relative left-2 top-2 transition-all z-10 duration-300 w-[350px] h-[350px]"})}),(0,d.jsxs)("div",{className:"w-[490px] bg-[#f7f6f5] p-7",children:[(0,d.jsx)(_,{text:t,size:"md",className:"font-extrabold mb-1"}),(0,d.jsxs)(O.Button,{loading:i,onClick:()=>null==r?void 0:r(),className:"h-[55px] px-10 text-base rounded-[18px] w-full mt-10",children:["Добавить в корзину за ",a," ₽"]})]})]})};s(46);let N=e=>{let{className:t,children:s}=e;return(0,d.jsx)("div",{className:(0,o.cn)("mx-auto max-w-[1280px]",t),children:s})};var y=s(2124);s(6279);var w=s(10);s(73),s(7468);var z=s(8206);s(4691);var C=s(1342);let k=e=>{let{className:t,active:s,price:a,name:r,imageUrl:l,onClick:i}=e;return(0,d.jsxs)("div",{className:(0,o.cn)("flex items-center flex-col p-1 rounded-md w-32 text-center relative cursor-pointer shadow-md bg-white",{"border border-primary":s},t),onClick:i,children:[s&&(0,d.jsx)(C.A,{className:"absolute top-2 right-2 text-primary"}),(0,d.jsx)("img",{width:110,height:110,src:l}),(0,d.jsx)("span",{className:"text-xs mb-1",children:r}),(0,d.jsxs)("span",{className:"font-bold",children:[a," ₽"]})]})};var A=s(4683),R=s(8173),S=s.n(R);let I=e=>{let{id:t,name:s,price:a,imageUrl:r,ingredients:l,className:i}=e;return(0,d.jsx)("div",{className:i,children:(0,d.jsxs)(S(),{href:"/product/".concat(t),children:[(0,d.jsx)("div",{className:"flex justify-center p-6 bg-secondary rounded-lg h-[260px]",children:(0,d.jsx)("img",{width:215,height:215,src:r,alt:s})}),(0,d.jsx)(_,{text:s,size:"sm",className:"mb-1 mt-3 font-bold"}),(0,d.jsx)("p",{className:"text-sm text-gray-400",children:l.map(e=>e.name).join(", ")}),(0,d.jsxs)("div",{className:"flex justify-between items-center mt-4",children:[(0,d.jsxs)("span",{className:"text-[20px]",children:["от ",(0,d.jsxs)("b",{children:[a," ₽"]})]}),(0,d.jsxs)(O.Button,{variant:"secondary",children:[(0,d.jsx)(A.A,{size:20,className:"mr-1"}),"Добавить"]})]})]})})};var F=s(4570);let T=e=>{let{imageUrl:t,alt:s,size:a,className:r}=e;return(0,d.jsxs)("div",{className:(0,o.cn)("flex items-center justify-center flex-1 relative w-full",r),children:[(0,d.jsx)("img",{src:t,alt:s,className:(0,o.cn)("relative left-2 top-2 transition-all z-10 duration-300",{"w-[300px] h-[300px]":20===a,"w-[400px] h-[400px]":30===a,"w-[500px] h-[500px]":40===a})}),(0,d.jsx)("div",{className:"absolute left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2 border-dashed border-2 rounded-full border-gray-200 w-[450px] h-[450px]"}),(0,d.jsx)("div",{className:"absolute left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2 border-dotted border-2 rounded-full border-gray-100 w-[370px] h-[370px]"})]})};s(6344);var P=s(1470);s(2304);var E=s(6741),U=s(3463);let _=e=>{if(e.size)return(0,c.createElement)({xs:"h5",sm:"h4",md:"h3",lg:"h2",xl:"h1","2xl":"h1"}[e.size],{className:(0,U.A)({xs:"text-[16px] ",sm:"text-[22px] ",md:"text-[26px] ",lg:"text-[32px] ",xl:"text-[40px] ","2xl":"text-[48px] "}[e.size],e.className)},e.text)};s(4059);var L=s(1308),V=s(7275);let D=e=>{let{items:t,onClickCountButton:s,removeCartItem:a,loading:r,className:l}=e;return(0,d.jsx)(g,{title:"1. Корзина",className:l,children:(0,d.jsx)("div",{className:"flex flex-col gap-5",children:t.length>0?t.map(e=>(0,d.jsx)(n.CheckoutItem,{id:e.id,imageUrl:e.imageUrl,details:(0,V.m6)(e.ingredients,e.pizzaType,e.pizzaSize),name:e.name,price:e.price,quantity:e.quantity,disabled:e.disabled,onClickCountButton:t=>s(e.id,e.quantity,t),onClickRemove:()=>a(e.id)},e.id)):r&&[void 0,void 0,void 0,void 0].map((e,t)=>(0,d.jsx)(x,{},t))})})};var q=s(9350),$=s(624);let J=e=>{let{className:t}=e;return(0,d.jsx)(g,{title:"2. Персональные данные",className:t,children:(0,d.jsxs)("div",{className:"grid grid-cols-2 gap-5",children:[(0,d.jsx)(q.FormInput,{name:"firstName",className:"text-base",placeholder:"Имя"}),(0,d.jsx)(q.FormInput,{name:"lastName",className:"text-base",placeholder:"Фамилия"}),(0,d.jsx)(q.FormInput,{name:"email",className:"text-base",placeholder:"E-Mail"}),(0,d.jsx)(q.FormInput,{name:"phone",className:"text-base",placeholder:"Телефон"})]})})};s(6463);var O=s(3312),Q=s(2291);s(1344),s(1743),s(7485);var B=s(3900);function Y(e){let{className:t,...s}=e;return(0,d.jsx)("div",{className:(0,o.cn)("animate-pulse  bg-primary/10",t),...s})}s(9095),s(4179),s(7528),s(8683),s(6754)},2703:(e,t,s)=>{"use strict";s.d(t,{AdressInput:()=>i});var a=s(5155),r=s(2115),l=s(4932);s(3207);let i=e=>{let{onChange:t}=e,[s,i]=(0,r.useState)(!1);return(0,r.useEffect)(()=>{i(!0)},[]),(0,a.jsx)(a.Fragment,{children:s?(0,a.jsx)(l.OO,{token:"1914854afcecce241bef1af5157a2694eda9a351",onChange:e=>null==t?void 0:t(null==e?void 0:e.value)}):null})}},5821:(e,t,s)=>{"use strict";s.d(t,{CartButton:()=>o});var a=s(5155),r=s(1567),l=s(3322),i=s(3100),n=s(2884),d=s(7815);let o=e=>{let{className:t}=e,s=(0,l.x)(e=>e);return(0,a.jsx)(d._H,{children:(0,a.jsxs)(d.$n,{loading:s.loading,className:(0,r.cn)("group relative",{"w-[105px]":s.loading},t),children:[(0,a.jsxs)("b",{children:[s.totalAmount," ₽"]}),(0,a.jsx)("span",{className:"h-full w-[1px] bg-white/30 mx-3"}),(0,a.jsxs)("div",{className:"flex items-center gap-1 transition duration-300 group-hover:opacity-0",children:[(0,a.jsx)(i.A,{size:16,className:"relative",strokeWidth:2}),(0,a.jsx)("b",{children:s.items.length})]}),(0,a.jsx)(n.A,{size:20,className:"absolute right-5 transition duration-300 -translate-x-2 opacity-0 group-hover:opacity-100 group-hover:translate-x-0"})]})})}},4799:(e,t,s)=>{"use strict";s.d(t,{CartDrawer:()=>R});var a=s(5155),r=s(2115),l=s(6217),i=s(1027),n=s(1567),d=s(7365);let o=l.bL,c=l.l9,m=l.bm,x=l.ZL,u=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)(l.hJ,{className:(0,n.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",s),...r,ref:t})});u.displayName=l.hJ.displayName;let p=(0,i.F)("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=closed]:duration-300 data-[state=open]:duration-500 data-[state=open]:animate-in data-[state=closed]:animate-out",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4 border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),f=r.forwardRef((e,t)=>{let{side:s="right",className:r,children:i,...o}=e;return(0,a.jsxs)(x,{children:[(0,a.jsx)(u,{}),(0,a.jsxs)(l.UC,{ref:t,className:(0,n.cn)(p({side:s}),r),...o,children:[(0,a.jsxs)(l.bm,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[(0,a.jsx)(d.MKb,{className:"h-4 w-4"}),(0,a.jsx)("span",{className:"sr-only",children:"Close"})]}),i]})]})});f.displayName=l.UC.displayName;let h=e=>{let{className:t,...s}=e;return(0,a.jsx)("div",{className:(0,n.cn)("flex flex-col space-y-2 text-center sm:text-left",t),...s})};h.displayName="SheetHeader";let g=e=>{let{className:t,...s}=e;return(0,a.jsx)("div",{className:(0,n.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...s})};g.displayName="SheetFooter";let b=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)(l.hE,{ref:t,className:(0,n.cn)("text-lg font-semibold text-foreground",s),...r})});b.displayName=l.hE.displayName,r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)(l.VY,{ref:t,className:(0,n.cn)("text-sm text-muted-foreground",s),...r})}).displayName=l.VY.displayName;var j=s(6880),v=s(7275),N=s(1598),y=s(2884),w=s(5565),z=s(8173),C=s.n(z),k=s(7815),A=s(3863);let R=e=>{let{children:t}=e,{totalAmount:s,updateItemQuantity:i,items:d,removeCartItem:x}=(0,j._$)(),[u,p]=r.useState(!1),z=(e,t,s)=>{i(e,"plus"===s?t+1:t-1)};return(0,a.jsxs)(o,{children:[(0,a.jsx)(c,{asChild:!0,children:t}),(0,a.jsx)(f,{className:"flex flex-col justify-between pb-0 bg-[#F4F1EE]",children:(0,a.jsxs)("div",{className:(0,n.cn)("flex flex-col h-full",!s&&"justify-center"),children:[s>0&&(0,a.jsx)(h,{children:(0,a.jsxs)(b,{children:["В корзине"," ",(0,a.jsxs)("span",{className:"font-bold",children:[d.length," товара"]})]})}),!s&&(0,a.jsxs)("div",{className:"flex flex-col items-center justify-center w-72 mx-auto",children:[(0,a.jsx)(l.L3,{className:"hidden"}),(0,a.jsx)(w.default,{src:"/assets/images/empty-box.svg",alt:"Empty cart",width:120,height:120}),(0,a.jsx)(k.hE,{size:"sm",text:"Корзина пустая",className:"text-center font-bold my-2"}),(0,a.jsx)("p",{className:"text-center text-neutral-500 mb-5",children:"Добавьте хотя бы одну пиццу, чтобы совершить заказ"}),(0,a.jsx)(m,{asChild:!0,children:(0,a.jsxs)(k.$n,{className:"w-56 h-12 text-base",size:"lg",children:[(0,a.jsx)(N.A,{className:"w-5 mr-2"}),"Вернуться назад"]})})]}),s>0&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"-mx-6 mt-5 overflow-auto flex-1",children:d.map(e=>(0,a.jsx)("div",{className:"mb-2",children:(0,a.jsx)(A.N,{id:e.id,imageUrl:e.imageUrl,details:(0,v.m6)(e.ingredients,e.pizzaType,e.pizzaSize),disabled:e.disabled,name:e.name,price:e.price,quantity:e.quantity,onClickCountButton:t=>z(e.id,e.quantity,t),onClickRemove:()=>x(e.id)})},e.id))}),(0,a.jsx)(g,{className:"-mx-6 bg-white p-8",children:(0,a.jsxs)("div",{className:"w-full",children:[(0,a.jsxs)("div",{className:"flex mb-4",children:[(0,a.jsxs)("span",{className:"flex flex-1 text-lg text-neutral-500",children:["Итого",(0,a.jsx)("div",{className:"flex-1 border-b border-dashed border-b-neutral-200 relative -top-1 mx-2"})]}),(0,a.jsxs)("span",{className:"font-bold text-lg",children:[s," ₽"]})]}),(0,a.jsx)(C(),{href:"/checkout",children:(0,a.jsxs)(k.$n,{type:"submit",className:"w-full h-12  text-base",onClick:()=>p(!0),loading:u,children:["Оформить заказ",(0,a.jsx)(y.A,{className:"w-5 ml-2"})]})})]})})]})]})})]})}},3863:(e,t,s)=>{"use strict";s.d(t,{N:()=>d});var a=s(5155),r=s(1567);s(2115);var l=s(5524),i=s(7815),n=s(4059);let d=e=>{let{imageUrl:t,name:s,price:d,quantity:o,details:c,disabled:m,onClickCountButton:x,onClickRemove:u,className:p}=e;return(0,a.jsxs)("div",{className:(0,r.cn)("flex bg-white p-5 gap-6",{"opacity-50 pointer-events-none":m},p),children:[(0,a.jsx)(n._V,{src:t}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)(n.R2,{name:s,details:c}),(0,a.jsx)("hr",{className:"my-3"}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)(i.Qr,{onClick:x,value:o}),(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)(n.gm,{value:d}),(0,a.jsx)(l.A,{onClick:u,className:"text-gray-400 cursor-pointer hover:text-gray-600",size:16})]})]})]})]})}},1015:(e,t,s)=>{"use strict";s.d(t,{Categories:()=>i});var a=s(5155),r=s(1567),l=s(1196);s(2115);let i=e=>{let{items:t,className:s}=e,i=(0,l.n)(e=>e.activeId);return(0,a.jsx)("div",{className:(0,r.cn)("inline-flex gap-1 bg-gray-50 p-1 rounded-2xl",s),children:t.map((e,t)=>{let{name:s,id:l}=e;return(0,a.jsx)("a",{className:(0,r.cn)("flex items-center font-bold h-11 rounded-2xl px-5",i===l&&"bg-white shadow-md shadow-gray-200 text-primary"),href:"/#".concat(s),children:(0,a.jsx)("button",{children:s})},t)})})}},8882:(e,t,s)=>{"use strict";s.d(t,{CheckboxFiltersGroup:()=>n});var a=s(5155),r=s(2115),l=s(7815),i=s(73);let n=e=>{let{title:t,items:s,defaultItems:n,limit:d=5,searchInputPlaceholder:o="Поиск...",className:c,loading:m,onChange:x,selected:u,name:p}=e,[f,h]=(0,r.useState)(!1),[g,b]=(0,r.useState)("");if(m)return(0,a.jsxs)("div",{className:c,children:[(0,a.jsx)("p",{className:"font-bold mb-3",children:t}),...Array(d).fill(null).map((e,t)=>(0,a.jsx)(l.EA,{className:"h-5 mb-4 rounded-[5px]"},t)),(0,a.jsx)(l.EA,{className:"w-28 h-6 mb-4 rounded-[5px]"})]});let j=f?s.filter(e=>e.text.toLowerCase().includes(g.toLowerCase())):(n||s).slice(0,d);return(0,a.jsxs)("div",{className:c,children:[(0,a.jsx)("p",{className:"font-bold mb-3",children:t}),f&&(0,a.jsx)("div",{className:"mb-5",children:(0,a.jsx)(l.pd,{value:g,onChange:e=>{b(e.target.value)},placeholder:o,className:"bg-gray-50 border-none"})}),(0,a.jsx)("div",{className:"flex flex-col gap-4 max-h-96 pr-2 overflow-auto scrollbar",children:j.map((e,t)=>(0,a.jsx)(i.Y,{text:e.text,value:e.value,endAdornment:e.endAdornment,onCheckedChange:()=>null==x?void 0:x(e.value),checked:null==u?void 0:u.has(e.value),name:p},t))}),s.length>d&&(0,a.jsx)("div",{className:f?"border-t border-t-neutral-100 mt-4":"",children:(0,a.jsx)("button",{onClick:()=>h(!f),className:"text-primary mt-3",children:f?"Скрыть":"+ Показать все"})})]})}},7358:(e,t,s)=>{"use strict";s.d(t,{CheckoutItem:()=>n});var a=s(5155),r=s(1567),l=s(689);s(2115);var i=s(4059);let n=e=>{let{name:t,price:s,imageUrl:n,quantity:d,details:o,className:c,disabled:m,onClickCountButton:x,onClickRemove:u}=e;return(0,a.jsxs)("div",{className:(0,r.cn)("flex items-center justify-between",{"opacity-50 pointer-events-none":m},c),children:[(0,a.jsxs)("div",{className:"flex items-center gap-5 flex-1",children:[(0,a.jsx)(i._V,{src:n}),(0,a.jsx)(i.R2,{name:t,details:o})]}),(0,a.jsx)(i.gm,{value:s}),(0,a.jsxs)("div",{className:"flex items-center gap-5 ml-20",children:[(0,a.jsx)(i.Qr,{onClick:x,value:d}),(0,a.jsx)("button",{type:"button",onClick:u,children:(0,a.jsx)(l.A,{className:"text-gray-400 cursor-pointer hover:text-gray-600",size:20})})]})]})}},5360:(e,t,s)=>{"use strict";s.d(t,{ChoosePizzaForm:()=>o});var a=s(5155),r=s(3690),l=s(6880),i=s(7275),n=s(1567),d=s(7815);let o=e=>{let{name:t,items:s,imageUrl:o,ingredients:c,loading:m,onSubmit:x,className:u}=e,{size:p,type:f,selectedIngredients:h,availableSizes:g,currentItemId:b,setSize:j,setType:v,addIngredient:N}=(0,l.AR)(s),{totalPrice:y,textDetaills:w}=(0,i.X0)(f,p,s,c,h);return(0,a.jsxs)("div",{className:(0,n.cn)(u,"flex flex-1"),children:[(0,a.jsx)(d.X$,{imageUrl:o,size:p,alt:""}),(0,a.jsxs)("div",{className:"w-[490px] bg-[#f7f6f5] p-7",children:[(0,a.jsx)(d.hE,{text:t,size:"md",className:"font-extrabold mb-1"}),(0,a.jsx)("p",{className:"text-gray-400",children:w}),(0,a.jsxs)("div",{className:"flex flex-col gap-4 mt-5",children:[(0,a.jsx)(d.iH,{items:g,selectedValue:String(p),onClick:e=>j(Number(e))}),(0,a.jsx)(d.iH,{items:r.oy,selectedValue:String(f),onClick:e=>v(Number(e))})]}),(0,a.jsx)("div",{className:"bg-gray-50 p-5 rounded-md h-[420px] overflow-auto scrollbar mt-5",children:(0,a.jsx)("div",{className:"grid grid-cols-3 gap-3",children:c.map(e=>(0,a.jsx)(d.V0,{name:e.name,price:e.price,imageUrl:e.imageUrl,onClick:()=>N(e.id),active:h.has(e.id)},e.id))})}),(0,a.jsxs)(d.$n,{loading:m,onClick:()=>{b&&x(b,Array.from(h))},className:"h-[55px] px-10 text-base rounded-[18px] w-full mt-10",children:["Добавить в корзину за ",y," ₽"]})]})]})}},46:(e,t,s)=>{"use strict";s.d(t,{k:()=>i});var a=s(5155),r=s(1567),l=s(689);s(2115);let i=e=>{let{onClick:t,className:s}=e;return(0,a.jsx)("button",{onClick:t,className:(0,r.cn)("absolute right-4 top-1/2 -translate-y-1/2 opacity-30 hover:opacity-100 cursor-pointer",s),children:(0,a.jsx)(l.A,{className:"h-5 w-5"})})}},2124:(e,t,s)=>{"use strict";s.d(t,{Q:()=>i});var a=s(5155),r=s(1567);s(2115);var l=s(6279);let i=e=>{let{className:t,onClick:s,value:i=1,size:n="sm"}=e;return(0,a.jsxs)("div",{className:(0,r.cn)("inline-flex items-center justify-between gap-3",t),children:[(0,a.jsx)(l.J,{onClick:()=>null==s?void 0:s("minus"),disabled:1===i,size:n,type:"minus"}),(0,a.jsx)("b",{className:"sm"===n?"text-sm":"text-md",children:i}),(0,a.jsx)(l.J,{onClick:()=>null==s?void 0:s("plus"),size:n,type:"plus"})]})}},6279:(e,t,s)=>{"use strict";s.d(t,{J:()=>d});var a=s(5155),r=s(4683),l=s(8209),i=s(1567),n=s(3312);let d=e=>{let{size:t="sm",disabled:s,type:d,onClick:o}=e;return(0,a.jsx)(n.Button,{variant:"outline",disabled:s,onClick:o,type:"button",className:(0,i.cn)("p-0 hover:bg-primary hover:text-white disabled:bg-white disabled:border-gray-400 disabled:text-gray-400","sm"===t?"w-[30px] h-[30px] rounded-[10px]":"w-[38px] h-[38px] rounded-md"),children:"plus"===d?(0,a.jsx)(r.A,{className:"sm"===t?"h-4":"h-5"}):(0,a.jsx)(l.A,{className:"sm"===t?"h-4":"h-5"})})}},10:(e,t,s)=>{"use strict";s.d(t,{y:()=>l});var a=s(5155),r=s(1567);s(2115);let l=e=>{let{text:t,className:s}=e;return(0,a.jsx)("p",{className:(0,r.cn)("text-red-500 text-sm",s),children:t})}},73:(e,t,s)=>{"use strict";s.d(t,{Y:()=>l});var a=s(5155);s(2115);var r=s(7815);let l=e=>{let{text:t,value:s,endAdornment:l,onCheckedChange:i,checked:n,name:d}=e;return(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(r.Sc,{onCheckedChange:i,checked:n,value:s,className:"rounded-[8px] w-6 h-6",id:"checkbox-".concat(String(d),"-").concat(String(s))}),(0,a.jsx)("label",{htmlFor:"checkbox-".concat(String(d),"-").concat(String(s)),className:"leading-none cursor-pointer flex-1",children:t}),l]})}},7468:(e,t,s)=>{"use strict";s.d(t,{Filters:()=>i});var a=s(5155),r=s(6880),l=s(7815);let i=e=>{let{ingredients:t,loading:s}=(0,r.iO)(),i=(0,r.R7)();(0,r.LM)(i);let n=t.map(e=>({value:String(e.id),text:e.name}));return(0,a.jsxs)("div",{className:e.className,children:[(0,a.jsx)(l.hE,{text:"Фильтрация",size:"sm",className:"mb-5 font-bold"}),(0,a.jsx)(l.C$,{title:"Тип теста",name:"pizzaTypes",className:"mb-5",onChange:i.setPizzaTypes,selected:i.pizzaTypes,items:[{text:"Тонкое",value:"1"},{text:"Традиционное",value:"2"}]}),(0,a.jsx)(l.C$,{title:"Размеры",name:"sizes",className:"mb-5",onChange:i.setSizes,selected:i.sizes,items:[{text:"20 см",value:"20"},{text:"30 см",value:"30"},{text:"40 см",value:"40"}]}),(0,a.jsxs)("div",{className:"mt-5 border-y border-y-neutral-100 py-6 pb-7",children:[(0,a.jsx)("p",{className:"font-bold mb-3",children:"Цена от и до:"}),(0,a.jsxs)("div",{className:"flex gap-3 mb-5",children:[(0,a.jsx)(l.pd,{type:"number",placeholder:"0",min:0,max:1e3,value:String(i.prices.priceFrom),onChange:e=>i.setPrices("priceFrom",Number(e.target.value))}),(0,a.jsx)(l.pd,{type:"number",placeholder:"1000",min:100,max:1e3,value:String(i.prices.priceTo),onChange:e=>i.setPrices("priceTo",Number(e.target.value))})]}),(0,a.jsx)(l.F1,{min:0,max:1e3,step:1,value:[i.prices.priceFrom||0,i.prices.priceTo||1e3],onValueChange:e=>{i.setPrices("priceFrom",e[0]),i.setPrices("priceTo",e[1])}})]}),(0,a.jsx)(l.C$,{className:"mt-5",title:"Ингредиенты",name:"ingredients",limit:6,defaultItems:n.slice(0,6),items:n,loading:s,onChange:i.setSelectedIngredients,selected:i.selectedIngredients})]})}},8206:(e,t,s)=>{"use strict";s.d(t,{GroupVariants:()=>l});var a=s(5155),r=s(1567);let l=e=>{let{items:t,onClick:s,className:l,selectedValue:i}=e;return(0,a.jsx)("div",{className:(0,r.cn)(l,"flex justify-between bg-[#F3F3F7] rounded-3xl p-1 select-none"),children:t.map(e=>(0,a.jsx)("button",{onClick:()=>null==s?void 0:s(e.value),className:(0,r.cn)("flex items-center justify-center cursor-pointer h-[30px] px-5 flex-1 rounded-3xl transition-all duration-400 text-sm",{"bg-white shadow":e.value===i,"text-gray-500 opacity-50 pointer-events-none":e.disabled}),children:e.name},e.name))})}},4691:(e,t,s)=>{"use strict";s.d(t,{Headers:()=>u});var a=s(5155),r=s(1567),l=s(2472),i=s(5565),n=s(8173),d=s.n(n),o=s(6046),c=s(2115),m=s(5037),x=s(7815);let u=e=>{let{hasSearch:t=!0,hasCart:s=!0,className:n}=e,u=(0,o.useRouter)(),p=(0,o.useSearchParams)();return(0,c.useEffect)(()=>{let e="";p.has("paid")&&(e="Заказ успешно оплачен! Информация отправлена на почту."),p.has("verified")&&(e="Почта успешно подтверждена!"),e&&setTimeout(()=>{u.replace("/"),m.Ay.success(e,{duration:3e3})},1e3)},[u,p]),(0,a.jsx)("header",{className:(0,r.cn)(" border-b",n),children:(0,a.jsxs)(x.mc,{className:"flex items-center justify-between py-8",children:[(0,a.jsx)(d(),{href:"/",children:(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsx)(i.default,{src:"/logo.png",width:35,height:35,alt:"Logo"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-2xl uppercase font-black",children:"Next Pizza"}),(0,a.jsx)("p",{className:"text-sm text-gray-400 leading-3",children:"вкусней уже некуда"})]})]})}),t&&(0,a.jsx)("div",{className:"mx-10 flex-1",children:(0,a.jsx)(x.DO,{})}),(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsxs)(x.$n,{variant:"outline",className:"flex items-center gap-1",children:[(0,a.jsx)(l.A,{size:15}),"Войти"]}),s&&(0,a.jsx)(x.l7,{})]})]})})}},4570:(e,t,s)=>{"use strict";s.r(t),s.d(t,{ProductForm:()=>n});var a=s(5155),r=s(3322),l=s(5037),i=s(7815);let n=e=>{let{product:t,onSubmit:s}=e,{addCartItem:n,loading:d}=(0,r.x)(e=>e),o=t.items[0],c=!!o.pizzaType,m=async(e,a)=>{try{let r=null!=e?e:o.id;await n({productItemId:r,ingredients:a}),l.Ay.success(t.name+" добавлена в корзину"),null==s||s()}catch(e){l.Ay.error("Не удалось добавить товар в корзину"),console.error(e)}};return c?(0,a.jsx)(i.Wu,{imageUrl:t.imageUrl,name:t.name,ingredients:t.ingredients,items:t.items,onSubmit:m,loading:d}):(0,a.jsx)(i.JQ,{imageUrl:t.imageUrl,name:t.name,onSubmit:m,price:o.price,loading:d})}},6344:(e,t,s)=>{"use strict";s.d(t,{ProductsGroupList:()=>d});var a=s(5155),r=s(1196),l=s(2115),i=s(3594),n=s(7815);let d=e=>{let{title:t,items:s,className:d,categoryId:o}=e,c=(0,r.n)(e=>e.setActiveId),m=(0,l.useRef)(null),x=(0,i.A)(m,{threshold:.8});return(0,l.useEffect)(()=>{(null==x?void 0:x.isIntersecting)&&c(o)},[o,null==x?void 0:x.isIntersecting,c]),(0,a.jsxs)("div",{className:d,id:t,ref:m,children:[(0,a.jsx)(n.hE,{text:t,size:"lg",className:" mb-5 font-extrabold"}),(0,a.jsx)("div",{className:"grid grid-cols-3 gap-[50px]",children:s.map(e=>(0,a.jsx)(n.AA,{id:e.id,name:e.name,imageUrl:e.imageUrl,price:e.items[0].price,ingredients:e.ingredients},e.id))})]})}},1470:(e,t,s)=>{"use strict";s.d(t,{RangeSlider:()=>n});var a=s(5155),r=s(5900),l=s(2115),i=s(1567);let n=l.forwardRef((e,t)=>{let{className:s,min:n,max:d,step:o,formatLabel:c,value:m,onValueChange:x,...u}=e,p=Array.isArray(m)?m:[n,d],[f,h]=l.useState(p);return l.useEffect(()=>{h(Array.isArray(m)?m:[n,d])},[n,d,m]),(0,a.jsxs)(r.bL,{ref:t,min:n,max:d,step:o,value:f,onValueChange:e=>{h(e),x&&x(e)},className:(0,i.cn)("relative flex w-full touch-none select-none mb-6 items-center",s),...u,children:[(0,a.jsx)(r.CC,{className:"relative h-1 w-full grow overflow-hidden rounded-full bg-primary/20",children:(0,a.jsx)(r.Q6,{className:"absolute h-full bg-primary"})}),f.map((e,t)=>(0,a.jsxs)(l.Fragment,{children:[(0,a.jsx)("div",{className:"absolute text-center",style:{left:"calc(".concat((e-n)/(d-n)*100,"% + 0px)"),top:"10px"},children:(0,a.jsx)("span",{className:"text-sm",children:c?c(e):e})}),(0,a.jsx)(r.zi,{className:"block h-4 w-4 rounded-full border border-primary/50 bg-white shadow transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50"})]},t))]})});n.displayName=r.bL.displayName},2304:(e,t,s)=>{"use strict";s.d(t,{Y:()=>r});var a=s(5155);s(2115);let r=()=>(0,a.jsx)("span",{className:"text-red-500",children:"*"})},6741:(e,t,s)=>{"use strict";s.d(t,{SearchInput:()=>x});var a=s(5155),r=s(1567),l=s(1001),i=s(2591),n=s(8173),d=s.n(n),o=s(2115),c=s(6308),m=s(1740);let x=e=>{let{className:t}=e,[s,n]=o.useState(""),[x,u]=o.useState(!1),[p,f]=o.useState([]),h=o.useRef(null);(0,c.A)(h,()=>{u(!1)}),(0,m.A)(async()=>{try{let e=await l.j.products.search(s);f(e)}catch(e){console.log(e)}},100,[s]);let g=()=>{u(!1),n(""),f([])};return(0,a.jsxs)(a.Fragment,{children:[x&&(0,a.jsx)("div",{className:"fixed top-0 left-0 bottom-0 right-0 bg-black/50 z-30"}),(0,a.jsxs)("div",{ref:h,className:(0,r.cn)("flex rounded-2xl flex-1 justify-between relative h-11 z-30",t),children:[(0,a.jsx)(i.A,{className:"absolute top-1/2 translate-y-[-50%] left-3 h-5 text-gray-400"}),(0,a.jsx)("input",{className:"rounded-2xl outline-none w-full bg-gray-100 pl-11",type:"text",placeholder:"Найти пиццу...",onFocus:()=>u(!0),value:s,onChange:e=>n(e.target.value)}),p.length>0&&(0,a.jsx)("div",{className:(0,r.cn)("absolute w-full bg-white rounded-xl py-2 top-14 shadow-md transition-all duration-200 invisible opacity-0 z-30",x&&"visible opacity-100 top-12"),children:p.map(e=>(0,a.jsxs)(d(),{onClick:g,className:"flex items-center gap-3 w-full px-3 py-2 hover:bg-primary/10",href:"/product/".concat(e.id),children:[(0,a.jsx)("img",{className:"rounded-sm h-8 w-8",src:e.imageUrl,alt:e.name}),(0,a.jsx)("span",{children:e.name})]},e.id))})]})]})}},4059:(e,t,s)=>{"use strict";s.d(t,{Qr:()=>a,_V:()=>i,R2:()=>d,gm:()=>n});let a=s(2124).Q;var r=s(5155),l=s(1567);let i=e=>{let{src:t,className:s}=e;return(0,r.jsx)("img",{className:(0,l.cn)("w-[60px] h-[60px]",s),src:t})},n=e=>{let{value:t,className:s}=e;return(0,r.jsxs)("h2",{className:(0,l.cn)("font-bold",s),children:[t," ₽"]})},d=e=>{let{name:t,details:s,className:a}=e;return(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:(0,l.cn)("flex items-center justify-between",a),children:(0,r.jsx)("h2",{className:"text-lg font-bold flex-1 leading-6",children:t})}),s&&(0,r.jsx)("p",{className:"text-xs text-gray-400 w-[90%]",children:s})]})}},1308:(e,t,s)=>{"use strict";s.d(t,{CheckoutAddressForm:()=>i});var a=s(5155),r=s(7815),l=s(9606);let i=e=>{let{className:t}=e,{control:s}=(0,l.xW)();return(0,a.jsx)(r.v_,{title:"3. Адрес доставки",className:t,children:(0,a.jsxs)("div",{className:"flex flex-col gap-5",children:[(0,a.jsx)(l.xI,{control:s,name:"address",render:e=>{var t;let{field:s,fieldState:l}=e;return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(r.to,{onChange:s.onChange}),(null===(t=l.error)||void 0===t?void 0:t.message)&&(0,a.jsx)(r.yn,{text:l.error.message})]})}}),(0,a.jsx)(r.hg,{name:"comment",className:"text-base",placeholder:"Комментарий к заказу",rows:5})]})})}},9350:(e,t,s)=>{"use strict";s.d(t,{FormInput:()=>o});var a=s(5155),r=s(9606),l=s(3900),i=s(46),n=s(10),d=s(2304);let o=e=>{var t;let{className:s,name:o,label:c,required:m,...x}=e,{register:u,formState:{errors:p},watch:f,setValue:h}=(0,r.xW)(),g=f(o),b=null===(t=p[o])||void 0===t?void 0:t.message;return(0,a.jsxs)("div",{className:s,children:[c&&(0,a.jsxs)("p",{className:"font-medium mb-2",children:[c," ",m&&(0,a.jsx)(d.Y,{})]}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(l.p,{className:"h-12 text-md",...u(o),...x}),g&&(0,a.jsx)(i.k,{onClick:()=>{h(o,"",{shouldValidate:!0})}})]}),b&&(0,a.jsx)(n.y,{text:b,className:"mt-2"})]})}},624:(e,t,s)=>{"use strict";s.d(t,{FormTextarea:()=>n});var a=s(5155);s(2115);var r=s(9606),l=s(6754),i=s(46);let n=e=>{var t;let{className:s,name:n,label:d,required:o,...c}=e,{register:m,formState:{errors:x},watch:u,setValue:p}=(0,r.xW)(),f=u(n),h=null===(t=x[n])||void 0===t?void 0:t.message;return(0,a.jsxs)("div",{className:s,children:[(0,a.jsxs)("p",{className:"font-medium mb-2",children:[d," ",o&&(0,a.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(l.T,{className:"h-12 text-md",...m(n),...c}),f&&(0,a.jsx)(i.k,{onClick:()=>{p(n,"")}})]}),h&&(0,a.jsx)("p",{className:"text-red-500 text-sm mt-2",children:h})]})}},6463:(e,t,s)=>{"use strict";s.d(t,{ChooseProductModal:()=>d});var a=s(5155),r=s(7815),l=s(1344),i=s(1567),n=s(6046);let d=e=>{let{className:t,product:s}=e,d=(0,n.useRouter)();return(0,a.jsx)(l.Dialog,{open:!!s,onOpenChange:()=>{d.back()},children:(0,a.jsxs)(l.Cf,{className:(0,i.cn)("p-0 w-[1060px] max-w-[1060px] min-h-[600px]  bg-white overflow-hidden",t),children:[(0,a.jsx)(l.L3,{className:"hidden"}),(0,a.jsx)(r.hE,{text:s.name}),(0,a.jsx)(r.iz,{product:s,onSubmit:()=>d.back()})]})})}},3312:(e,t,s)=>{"use strict";s.r(t),s.d(t,{Button:()=>c,buttonVariants:()=>o});var a=s(5155),r=s(2317),l=s(1027),i=s(2115),n=s(1567),d=s(1240);let o=(0,l.F)("inline-flex items-center justify-center whitespace-nowrap rounded-md active:translate-y-[1px] text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 disabled:bg-gray-500",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-primary text-primary bg-transparent hover:bg-secondary",secondary:"bg-secondary text-primary hover:bg-secondary/50",ghost:"hover:bg-secondary hover:text-secondary-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),c=i.forwardRef((e,t)=>{let{className:s,variant:l,size:i,asChild:c=!1,children:m,disabled:x,loading:u,...p}=e,f=c?r.DX:"button";return(0,a.jsx)(f,{disabled:x||u,className:(0,n.cn)(o({variant:l,size:i,className:s})),ref:t,...p,children:u?(0,a.jsx)(d.A,{className:"w-5 h-5 animate-spin"}):m})});c.displayName="Button"},2291:(e,t,s)=>{"use strict";s.d(t,{Checkbox:()=>d});var a=s(5155),r=s(6352),l=s(7193),i=s(2115),n=s(1567);let d=i.forwardRef((e,t)=>{let{className:s,...i}=e;return(0,a.jsx)(r.bL,{ref:t,className:(0,n.cn)("peer h-4 w-4 shrink-0 bg-gray-100 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",s),...i,children:(0,a.jsx)(r.C1,{className:(0,n.cn)("flex items-center justify-center text-current"),children:(0,a.jsx)(l.A,{className:"h-4 w-4",strokeWidth:3})})})});d.displayName=r.bL.displayName},1344:(e,t,s)=>{"use strict";s.d(t,{Cf:()=>m,Dialog:()=>d,L3:()=>x});var a=s(5155),r=s(6217),l=s(689),i=s(2115),n=s(1567);let d=r.bL;r.l9;let o=r.ZL;r.bm;let c=i.forwardRef((e,t)=>{let{className:s,...l}=e;return(0,a.jsx)(r.hJ,{ref:t,className:(0,n.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",s),...l})});c.displayName=r.hJ.displayName;let m=i.forwardRef((e,t)=>{let{className:s,children:i,...d}=e;return(0,a.jsxs)(o,{children:[(0,a.jsx)(c,{}),(0,a.jsxs)(r.UC,{ref:t,className:(0,n.cn)("fixed left-[50%] top-[50%] z-50 flex w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",s),...d,children:[i,(0,a.jsxs)(r.bm,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[(0,a.jsx)(l.A,{className:"h-4 w-4"}),(0,a.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})});m.displayName=r.UC.displayName;let x=i.forwardRef((e,t)=>{let{className:s,...l}=e;return(0,a.jsx)(r.hE,{ref:t,className:(0,n.cn)("text-lg font-semibold leading-none tracking-tight",s),...l})});x.displayName=r.hE.displayName,i.forwardRef((e,t)=>{let{className:s,...l}=e;return(0,a.jsx)(r.VY,{ref:t,className:(0,n.cn)("text-sm text-muted-foreground",s),...l})}).displayName=r.VY.displayName},1743:(e,t,s)=>{"use strict";s.d(t,{Drawer:()=>n});var a=s(5155),r=s(2115),l=s(9847),i=s(1567);let n=e=>{let{shouldScaleBackground:t=!0,...s}=e;return(0,a.jsx)(l._s.Root,{shouldScaleBackground:t,...s})};n.displayName="Drawer",l._s.Trigger;let d=l._s.Portal;l._s.Close;let o=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)(l._s.Overlay,{ref:t,className:(0,i.cn)("fixed inset-0 z-50 bg-black/80",s),...r})});o.displayName=l._s.Overlay.displayName,r.forwardRef((e,t)=>{let{className:s,children:r,...n}=e;return(0,a.jsxs)(d,{children:[(0,a.jsx)(o,{}),(0,a.jsxs)(l._s.Content,{ref:t,className:(0,i.cn)("fixed inset-x-0 bottom-0 z-50 mt-24 flex h-auto flex-col rounded-t-[10px] border bg-background",s),...n,children:[(0,a.jsx)("div",{className:"mx-auto mt-4 h-2 w-[100px] rounded-full bg-muted"}),r]})]})}).displayName="DrawerContent",r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)(l._s.Title,{ref:t,className:(0,i.cn)("text-lg font-semibold leading-none tracking-tight",s),...r})}).displayName=l._s.Title.displayName,r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)(l._s.Description,{ref:t,className:(0,i.cn)("text-sm text-muted-foreground",s),...r})}).displayName=l._s.Description.displayName},7485:(e,t,s)=>{"use strict";s.d(t,{DropdownMenu:()=>d});var a=s(5155),r=s(2115),l=s(937),i=s(7365),n=s(1567);let d=l.bL;l.l9,l.YJ,l.ZL,l.Pb,l.z6,r.forwardRef((e,t)=>{let{className:s,inset:r,children:d,...o}=e;return(0,a.jsxs)(l.ZP,{ref:t,className:(0,n.cn)("flex cursor-default gap-2 select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",r&&"pl-8",s),...o,children:[d,(0,a.jsx)(i.vKP,{className:"ml-auto"})]})}).displayName=l.ZP.displayName,r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)(l.G5,{ref:t,className:(0,n.cn)("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",s),...r})}).displayName=l.G5.displayName,r.forwardRef((e,t)=>{let{className:s,sideOffset:r=4,...i}=e;return(0,a.jsx)(l.ZL,{children:(0,a.jsx)(l.UC,{ref:t,sideOffset:r,className:(0,n.cn)("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md","data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",s),...i})})}).displayName=l.UC.displayName,r.forwardRef((e,t)=>{let{className:s,inset:r,...i}=e;return(0,a.jsx)(l.q7,{ref:t,className:(0,n.cn)("relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&>svg]:size-4 [&>svg]:shrink-0",r&&"pl-8",s),...i})}).displayName=l.q7.displayName,r.forwardRef((e,t)=>{let{className:s,children:r,checked:d,...o}=e;return(0,a.jsxs)(l.H_,{ref:t,className:(0,n.cn)("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",s),checked:d,...o,children:[(0,a.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,a.jsx)(l.VF,{children:(0,a.jsx)(i.Srz,{className:"h-4 w-4"})})}),r]})}).displayName=l.H_.displayName,r.forwardRef((e,t)=>{let{className:s,children:r,...d}=e;return(0,a.jsxs)(l.hN,{ref:t,className:(0,n.cn)("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",s),...d,children:[(0,a.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,a.jsx)(l.VF,{children:(0,a.jsx)(i.RiX,{className:"h-4 w-4 fill-current"})})}),r]})}).displayName=l.hN.displayName,r.forwardRef((e,t)=>{let{className:s,inset:r,...i}=e;return(0,a.jsx)(l.JU,{ref:t,className:(0,n.cn)("px-2 py-1.5 text-sm font-semibold",r&&"pl-8",s),...i})}).displayName=l.JU.displayName,r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)(l.wv,{ref:t,className:(0,n.cn)("-mx-1 my-1 h-px bg-muted",s),...r})}).displayName=l.wv.displayName},3900:(e,t,s)=>{"use strict";s.d(t,{p:()=>i});var a=s(5155),r=s(2115),l=s(1567);let i=r.forwardRef((e,t)=>{let{className:s,type:r,...i}=e;return(0,a.jsx)("input",{type:r,className:(0,l.cn)("flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-sm shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50",s),ref:t,...i})});i.displayName="Input"},9095:(e,t,s)=>{"use strict";s.d(t,{Popover:()=>n});var a=s(5155),r=s(2115),l=s(532),i=s(1567);let n=l.bL;l.l9,l.Mz,r.forwardRef((e,t)=>{let{className:s,align:r="center",sideOffset:n=4,...d}=e;return(0,a.jsx)(l.ZL,{children:(0,a.jsx)(l.UC,{ref:t,align:r,sideOffset:n,className:(0,i.cn)("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",s),...d})})}).displayName=l.UC.displayName},4179:(e,t,s)=>{"use strict";s.d(t,{RadioGroup:()=>d});var a=s(5155),r=s(2115),l=s(7365),i=s(852),n=s(1567);let d=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)(i.bL,{className:(0,n.cn)("grid gap-2",s),...r,ref:t})});d.displayName=i.bL.displayName,r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)(i.q7,{ref:t,className:(0,n.cn)("aspect-square h-4 w-4 rounded-full border border-primary text-primary shadow focus:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50",s),...r,children:(0,a.jsx)(i.C1,{className:"flex items-center justify-center",children:(0,a.jsx)(l.Srz,{className:"h-3.5 w-3.5 fill-primary"})})})}).displayName=i.q7.displayName},7528:(e,t,s)=>{"use strict";s.d(t,{Select:()=>d});var a=s(5155),r=s(2115),l=s(7365),i=s(2714),n=s(1567);let d=i.bL;i.YJ,i.WT,r.forwardRef((e,t)=>{let{className:s,children:r,...d}=e;return(0,a.jsxs)(i.l9,{ref:t,className:(0,n.cn)("flex h-9 w-full items-center justify-between whitespace-nowrap rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-1 focus:ring-ring disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",s),...d,children:[r,(0,a.jsx)(i.In,{asChild:!0,children:(0,a.jsx)(l.TBE,{className:"h-4 w-4 opacity-50"})})]})}).displayName=i.l9.displayName;let o=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)(i.PP,{ref:t,className:(0,n.cn)("flex cursor-default items-center justify-center py-1",s),...r,children:(0,a.jsx)(l.Mtm,{})})});o.displayName=i.PP.displayName;let c=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)(i.wn,{ref:t,className:(0,n.cn)("flex cursor-default items-center justify-center py-1",s),...r,children:(0,a.jsx)(l.D3D,{})})});c.displayName=i.wn.displayName,r.forwardRef((e,t)=>{let{className:s,children:r,position:l="popper",...d}=e;return(0,a.jsx)(i.ZL,{children:(0,a.jsxs)(i.UC,{ref:t,className:(0,n.cn)("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===l&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",s),position:l,...d,children:[(0,a.jsx)(o,{}),(0,a.jsx)(i.LM,{className:(0,n.cn)("p-1","popper"===l&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:r}),(0,a.jsx)(c,{})]})})}).displayName=i.UC.displayName,r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)(i.JU,{ref:t,className:(0,n.cn)("px-2 py-1.5 text-sm font-semibold",s),...r})}).displayName=i.JU.displayName,r.forwardRef((e,t)=>{let{className:s,children:r,...d}=e;return(0,a.jsxs)(i.q7,{ref:t,className:(0,n.cn)("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-2 pr-8 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",s),...d,children:[(0,a.jsx)("span",{className:"absolute right-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,a.jsx)(i.VF,{children:(0,a.jsx)(l.Srz,{className:"h-4 w-4"})})}),(0,a.jsx)(i.p4,{children:r})]})}).displayName=i.q7.displayName,r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)(i.wv,{ref:t,className:(0,n.cn)("-mx-1 my-1 h-px bg-muted",s),...r})}).displayName=i.wv.displayName},8683:(e,t,s)=>{"use strict";s.d(t,{Slider:()=>n});var a=s(5155),r=s(2115),l=s(5900),i=s(1567);let n=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsxs)(l.bL,{ref:t,className:(0,i.cn)("relative flex w-full touch-none select-none items-center",s),...r,children:[(0,a.jsx)(l.CC,{className:"relative h-1.5 w-full grow overflow-hidden rounded-full bg-primary/20",children:(0,a.jsx)(l.Q6,{className:"absolute h-full bg-primary"})}),(0,a.jsx)(l.zi,{className:"block h-4 w-4 rounded-full border border-primary/50 bg-background shadow transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50"})]})});n.displayName=l.bL.displayName},6754:(e,t,s)=>{"use strict";s.d(t,{T:()=>i});var a=s(5155),r=s(2115),l=s(1567);let i=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("textarea",{className:(0,l.cn)("flex min-h-[60px] w-full rounded-md border border-input bg-transparent px-3 py-2 text-base shadow-sm placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",s),ref:t,...r})});i.displayName="Textarea"},3690:(e,t,s)=>{"use strict";s.d(t,{D3:()=>r,TX:()=>a,oy:()=>l});let a={1:"традиционная",2:"тонкая"},r=Object.entries({20:"Маленькая",30:"Средняя",40:"Большая"}).map(e=>{let[t,s]=e;return{name:s,value:t}}),l=Object.entries(a).map(e=>{let[t,s]=e;return{name:s,value:t}})},6880:(e,t,s)=>{"use strict";s.d(t,{_$:()=>l,R7:()=>d,iO:()=>c,AR:()=>x,LM:()=>f});var a=s(3322),r=s(2115);let l=()=>{let e=(0,a.x)(e=>e);return(0,r.useEffect)(()=>{e.fetchCartItems()},[]),e};var i=s(6046),n=s(3949);let d=()=>{var e,t,s;let a=(0,i.useSearchParams)(),[l,{toggle:d}]=(0,n.A)(new Set(null===(e=a.get("ingredients"))||void 0===e?void 0:e.split(","))),[o,{toggle:c}]=(0,n.A)(new Set(a.has("sizes")?null===(t=a.get("sizes"))||void 0===t?void 0:t.split(","):[])),[m,{toggle:x}]=(0,n.A)(new Set(a.has("pizzaTypes")?null===(s=a.get("pizzaTypes"))||void 0===s?void 0:s.split(","):[])),[u,p]=r.useState({priceFrom:Number(a.get("priceFrom"))||void 0,priceTo:Number(a.get("priceTo"))||void 0}),f=(e,t)=>{p(s=>({...s,[e]:t}))};return r.useMemo(()=>({sizes:o,pizzaTypes:m,selectedIngredients:l,prices:u,setPrices:f,setPizzaTypes:x,setSizes:c,setSelectedIngredients:d}),[o,m,l,u,x,c,d])};var o=s(1001);let c=()=>{let[e,t]=r.useState([]),[s,a]=r.useState(!0);return r.useEffect(()=>{(async function(){try{a(!0);let e=await o.j.ingredients.getAll();t(e)}catch(e){console.log(e)}finally{a(!1)}})()},[]),{ingredients:e,loading:s}};var m=s(7275);let x=e=>{var t;let[s,a]=r.useState(20),[l,i]=r.useState(1),[d,{toggle:o}]=(0,n.A)(new Set([])),c=(0,m.YW)(l,e),x=null===(t=e.find(e=>e.pizzaType===l&&e.size===s))||void 0===t?void 0:t.id;return r.useEffect(()=>{let e=null==c?void 0:c.find(e=>Number(e.value)===s&&!e.disabled),t=null==c?void 0:c.find(e=>!e.disabled);!e&&t&&a(Number(t.value))},[c,s,l]),{size:s,type:l,selectedIngredients:d,availableSizes:c,currentItemId:x,setSize:a,setType:i,addIngredient:o}};var u=s(1973),p=s.n(u);let f=e=>{let t=(0,i.useRouter)();(0,r.useEffect)(()=>{let s={...e.prices,pizzaTypes:Array.from(e.pizzaTypes),sizes:Array.from(e.sizes),ingredients:Array.from(e.selectedIngredients)},a=p().stringify(s,{arrayFormat:"comma"});t.push("?".concat(a),{scroll:!1})},[e,t])}},7275:(e,t,s)=>{"use strict";s.d(t,{XW:()=>a,YW:()=>i,Pd:()=>d,m6:()=>o,X0:()=>c});let a=(e,t,s,a,r)=>{var l;return((null===(l=s.find(s=>s.pizzaType===e&&s.size===t))||void 0===l?void 0:l.price)||0)+a.filter(e=>r.has(e.id)).reduce((e,t)=>e+t.price,0)};var r=s(1094);s.g.prisma||new r.PrismaClient;var l=s(3690);let i=(e,t)=>{let s=t.filter(t=>t.pizzaType===e);return l.D3.map(e=>({name:e.name,value:e.value,disabled:!s.some(t=>Number(t.size)===Number(e.value))}))},n=e=>(e.ingredients.reduce((e,t)=>e+t.price,0)+e.productItem.price)*e.quantity,d=e=>({items:e.items.map(e=>({id:e.id,quantity:e.quantity,name:e.productItem.product.name,imageUrl:e.productItem.product.imageUrl,price:n(e),pizzaSize:e.productItem.size,pizzaType:e.productItem.pizzaType,disabled:!1,ingredients:e.ingredients.map(e=>({name:e.name,price:e.price}))})),totalAmount:e.totalAmount}),o=(e,t,s)=>{let a=[];if(s&&t){let e=l.TX[t];a.push("".concat(e," ").concat(s," см"))}return e&&a.push(...e.map(e=>e.name)),a.join(", ")},c=(e,t,s,r,i)=>({totalPrice:a(e,t,s,r,i),textDetaills:"".concat(t," см, ").concat(l.TX[e]," пицца")})},1567:(e,t,s)=>{"use strict";s.d(t,{cn:()=>l});var a=s(3463),r=s(9795);function l(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];return(0,r.QP)((0,a.$)(t))}},1001:(e,t,s)=>{"use strict";s.d(t,{j:()=>p});var a={};s.r(a),s.d(a,{addCartItem:()=>c,getCart:()=>n,removeCartItem:()=>o,updateItemQuantity:()=>d});var r={};s.r(r),s.d(r,{getAll:()=>x});var l={};s.r(l),s.d(l,{search:()=>u});let i=s(2651).A.create({baseURL:"/api"}),n=async()=>(await i.get("/cart")).data,d=async(e,t)=>(await i.patch("/cart/"+e,{quantity:t})).data,o=async e=>(await i.delete("/cart/"+e)).data,c=async e=>(await i.post("/cart",e)).data;var m=function(e){return e.SEARCH_PRODUCTS="products/search",e.INGREDIENTS="ingredients",e}({});let x=async()=>(await i.get(m.INGREDIENTS)).data,u=async e=>(await i.get(m.SEARCH_PRODUCTS,{params:{query:e}})).data,p={products:l,ingredients:r,cart:a}},3322:(e,t,s)=>{"use strict";s.d(t,{x:()=>i});var a=s(9827),r=s(7275),l=s(1001);let i=(0,a.v)(e=>({items:[],error:!1,loading:!0,totalAmount:0,fetchCartItems:async()=>{try{e({loading:!0,error:!1});let t=await l.j.cart.getCart();e((0,r.Pd)(t))}catch(t){console.error(t),e({error:!0})}finally{e({loading:!1})}},updateItemQuantity:async(t,s)=>{try{e({loading:!0,error:!1});let a=await l.j.cart.updateItemQuantity(t,s);e((0,r.Pd)(a))}catch(t){console.error(t),e({error:!0})}finally{e({loading:!1})}},removeCartItem:async t=>{try{e(e=>({loading:!0,error:!1,items:e.items.map(e=>e.id===t?{...e,disabled:!0}:e)}));let s=await l.j.cart.removeCartItem(t);e((0,r.Pd)(s))}catch(t){console.error(t),e({error:!0})}finally{e(e=>({loading:!1,items:e.items.map(e=>({...e,disabled:!1}))}))}},addCartItem:async t=>{try{e({loading:!0,error:!1});let s=await l.j.cart.addCartItem(t);e((0,r.Pd)(s))}catch(t){console.error(t),e({error:!0})}finally{e({loading:!1})}}}))},1196:(e,t,s)=>{"use strict";s.d(t,{n:()=>a});let a=(0,s(9827).v)(e=>({activeId:1,setActiveId:t=>e({activeId:t})}))}}]);