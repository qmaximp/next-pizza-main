(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[922],{42634:()=>{},3997:(e,s,t)=>{"use strict";t.d(s,{to:()=>a.AdressInput,Ux:()=>G.Ux,$n:()=>S.Button,l7:()=>r.CartButton,_H:()=>l.CartDrawer,Sc:()=>Y.Checkbox,C$:()=>i.CheckboxFiltersGroup,bz:()=>D.CheckoutAddressForm,bG:()=>O,gG:()=>n.CheckoutItem,$Y:()=>J,Vx:()=>b,Wu:()=>j.ChoosePizzaForm,JQ:()=>v,mc:()=>N,Qr:()=>y.Q,yn:()=>w.y,ZQ:()=>Z.FormInput,hg:()=>B.FormTextarea,iH:()=>z.GroupVariants,V0:()=>R,pd:()=>H.p,AA:()=>F,iz:()=>P.ProductForm,X$:()=>U,ky:()=>_,F1:()=>Q.RangeSlider,DO:()=>$.SearchInput,EA:()=>W,hE:()=>V,v_:()=>g});var a=t(92703),r=t(85821),l=t(44799);t(43863),t(1015);var i=t(88882),n=t(7358),d=t(95155),o=t(21567),c=t(12115);let m=e=>{let{title:s,value:t,className:a}=e;return(0,d.jsxs)("div",{className:(0,o.cn)("flex my-4",a),children:[(0,d.jsxs)("span",{className:"flex flex-1 text-lg text-neutral-500",children:[s,(0,d.jsx)("div",{className:"flex-1 border-b border-dashed border-b-neutral-200 relative -top-1 mx-2"})]}),(0,d.jsx)("span",{className:"font-bold text-lg",children:t})]})},u=e=>{let{className:s}=e;return(0,d.jsxs)("div",{className:(0,o.cn)("flex items-center justify-between",s),children:[(0,d.jsxs)("div",{className:"flex items-center gap-5",children:[(0,d.jsx)("div",{className:"w-[50px] h-[50px] bg-primary/10 rounded-full animate-pulse"}),(0,d.jsx)("h2",{className:"w-40 h-5 bg-primary/10 rounded animate-pulse"})]}),(0,d.jsx)("div",{className:"h-5 w-10 bg-primary/10 rounded animate-pulse"}),(0,d.jsx)("div",{className:"h-8 w-[133px] bg-primary/10 rounded animate-pulse"})]})};var x=t(17661),p=t(66936),f=t(79266),h=t(10503);let g=e=>{let{title:s,endAdornment:t,className:a,contentClassName:r,children:l}=e;return(0,d.jsxs)("div",{className:(0,o.cn)("bg-white rounded-3xl",a),children:[s&&(0,d.jsxs)("div",{className:"flex items-center justify-between p-5 px-7 border-b border-gray-100",children:[(0,d.jsx)(V,{text:s,size:"sm",className:"font-bold"}),t]}),(0,d.jsx)("div",{className:(0,o.cn)("px-5 py-4",r),children:l})]})},b=e=>{let{totalAmount:s,loading:t,className:a}=e,r=15*s/100;return(0,d.jsxs)(g,{className:(0,o.cn)("p-6 sticky top-4",a),children:[(0,d.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,d.jsx)("span",{className:"text-xl",children:"Итого:"}),t?(0,d.jsx)(W,{className:"h-11 w-48 rounded-[6px]"}):(0,d.jsxs)("span",{className:"h-11 text-[34px] font-extrabold",children:[Math.round(s+250+r)," ₽"]})]}),(0,d.jsx)(m,{title:(0,d.jsxs)("div",{className:"flex items-center",children:[(0,d.jsx)(x.A,{size:18,className:"mr-2 text-gray-400"}),"Стоимость корзины:"]}),value:t?(0,d.jsx)(W,{className:"h-6 w-16 rounded-[6px]"}):"".concat(s," ₽")}),(0,d.jsx)(m,{title:(0,d.jsxs)("div",{className:"flex items-center",children:[(0,d.jsx)(p.A,{size:18,className:"mr-2 text-gray-400"}),"Налоги:"]}),value:t?(0,d.jsx)(W,{className:"h-6 w-16 rounded-[6px]"}):"".concat(Math.round(r)," ₽")}),(0,d.jsx)(m,{title:(0,d.jsxs)("div",{className:"flex items-center",children:[(0,d.jsx)(f.A,{size:18,className:"mr-2 text-gray-400"}),"Доставка:"]}),value:t?(0,d.jsx)(W,{className:"h-6 w-16 rounded-[6px]"}):"".concat(250," ₽")}),(0,d.jsxs)(S.Button,{loading:t,type:"submit",className:"w-full h-14 rounded-2xl mt-6 text-base font-bold",children:["Перейти к оплате",(0,d.jsx)(h.A,{className:"w-5 ml-2"})]})]})};var j=t(45360);let v=e=>{let{name:s,imageUrl:t,price:a,onSubmit:r,className:l,loading:i}=e;return(0,d.jsxs)("div",{className:(0,o.cn)(l,"flex flex-1"),children:[(0,d.jsx)("div",{className:"flex items-center justify-center flex-1 relative w-full",children:(0,d.jsx)("img",{src:t,alt:s,className:"relative left-2 top-2 transition-all z-10 duration-300 w-[350px] h-[350px]"})}),(0,d.jsxs)("div",{className:"w-[490px] bg-[#f7f6f5] p-7",children:[(0,d.jsx)(V,{text:s,size:"md",className:"font-extrabold mb-1"}),(0,d.jsxs)(S.Button,{loading:i,onClick:()=>null==r?void 0:r(),className:"h-[55px] px-10 text-base rounded-[18px] w-full mt-10",children:["Добавить в корзину за ",a," ₽"]})]})]})};t(90046);let N=e=>{let{className:s,children:t}=e;return(0,d.jsx)("div",{className:(0,o.cn)("mx-auto max-w-[1280px]",s),children:t})};var y=t(2124);t(76279);var w=t(10);t(50073),t(77468);var z=t(58206);t(74691);var C=t(48173),k=t.n(C),S=t(73312),A=t(31342);let R=e=>{let{className:s,active:t,price:a,name:r,imageUrl:l,onClick:i}=e;return(0,d.jsxs)("div",{className:(0,o.cn)("flex items-center flex-col p-1 rounded-md w-32 text-center relative cursor-pointer shadow-md bg-white",{"border border-primary":t},s),onClick:i,children:[t&&(0,d.jsx)(A.A,{className:"absolute top-2 right-2 text-primary"}),(0,d.jsx)("img",{width:110,height:110,src:l}),(0,d.jsx)("span",{className:"text-xs mb-1",children:r}),(0,d.jsxs)("span",{className:"font-bold",children:[a," ₽"]})]})};var I=t(4683);let F=e=>{let{id:s,name:t,price:a,imageUrl:r,ingredients:l,className:i}=e;return(0,d.jsx)("div",{className:i,children:(0,d.jsxs)(k(),{href:"/product/".concat(s),children:[(0,d.jsx)("div",{className:"flex justify-center p-6 bg-secondary rounded-lg h-[260px]",children:(0,d.jsx)("img",{width:215,height:215,src:r,alt:t})}),(0,d.jsx)(V,{text:t,size:"sm",className:"mb-1 mt-3 font-bold"}),(0,d.jsx)("p",{className:"text-sm text-gray-400",children:l.map(e=>e.name).join(", ")}),(0,d.jsxs)("div",{className:"flex justify-between items-center mt-4",children:[(0,d.jsxs)("span",{className:"text-[20px]",children:["от ",(0,d.jsxs)("b",{children:[a," ₽"]})]}),(0,d.jsxs)(S.Button,{variant:"secondary",children:[(0,d.jsx)(I.A,{size:20,className:"mr-1"}),"Добавить"]})]})]})})};var P=t(14570);let U=e=>{let{imageUrl:s,alt:t,size:a,className:r}=e;return(0,d.jsxs)("div",{className:(0,o.cn)("flex items-center justify-center flex-1 relative w-full",r),children:[(0,d.jsx)("img",{src:s,alt:t,className:(0,o.cn)("relative left-2 top-2 transition-all z-10 duration-300",{"w-[300px] h-[300px]":20===a,"w-[400px] h-[400px]":30===a,"w-[500px] h-[500px]":40===a})}),(0,d.jsx)("div",{className:"absolute left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2 border-dashed border-2 rounded-full border-gray-200 w-[450px] h-[450px]"}),(0,d.jsx)("div",{className:"absolute left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2 border-dotted border-2 rounded-full border-gray-100 w-[370px] h-[370px]"})]})};t(86344);var E=t(2615),T=t(12472),L=t(34673);let _=e=>{let{className:s,onClickSignIn:t}=e,{data:a}=(0,E.useSession)();return(0,d.jsx)("div",{className:s,children:a?(0,d.jsx)(k(),{href:"/profile",children:(0,d.jsxs)(S.Button,{variant:"secondary",className:"flex items-center gap-2",children:[(0,d.jsx)(L.A,{size:18}),"Профиль"]})}):(0,d.jsxs)(S.Button,{onClick:t,variant:"outline",className:"flex items-center gap-1",children:[(0,d.jsx)(T.A,{size:16}),"Войти"]})})};t(53186),t(26067);var Q=t(29089);t(32304);var $=t(36741);t(794);var q=t(43463);let V=e=>{if(e.size)return(0,c.createElement)({xs:"h5",sm:"h4",md:"h3",lg:"h2",xl:"h1","2xl":"h1"}[e.size],{className:(0,q.A)({xs:"text-[16px] ",sm:"text-[22px] ",md:"text-[26px] ",lg:"text-[32px] ",xl:"text-[40px] ","2xl":"text-[48px] "}[e.size],e.className)},e.text)};t(84059);var D=t(61308),M=t(44122);let O=e=>{let{items:s,onClickCountButton:t,removeCartItem:a,loading:r,className:l}=e;return(0,d.jsx)(g,{title:"1. Корзина",className:l,children:(0,d.jsx)("div",{className:"flex flex-col gap-5",children:s.length>0?s.map(e=>(0,d.jsx)(n.CheckoutItem,{id:e.id,imageUrl:e.imageUrl,details:(0,M.m6)(e.ingredients,e.pizzaType,e.pizzaSize),name:e.name,price:e.price,quantity:e.quantity,disabled:e.disabled,onClickCountButton:s=>t(e.id,e.quantity,s),onClickRemove:()=>a(e.id)},e.id)):r&&[void 0,void 0,void 0,void 0].map((e,s)=>(0,d.jsx)(u,{},s))})})};var Z=t(39350),B=t(40624);let J=e=>{let{className:s}=e;return(0,d.jsx)(g,{title:"2. Персональные данные",className:s,children:(0,d.jsxs)("div",{className:"grid grid-cols-2 gap-5",children:[(0,d.jsx)(Z.FormInput,{name:"firstName",className:"text-base",placeholder:"Имя"}),(0,d.jsx)(Z.FormInput,{name:"lastName",className:"text-base",placeholder:"Фамилия"}),(0,d.jsx)(Z.FormInput,{name:"email",className:"text-base",placeholder:"E-Mail"}),(0,d.jsx)(Z.FormInput,{name:"phone",className:"text-base",placeholder:"Телефон"})]})})};var G=t(23683);t(46463);var Y=t(2291);t(51344),t(71743),t(57485);var H=t(33900);function W(e){let{className:s,...t}=e;return(0,d.jsx)("div",{className:(0,o.cn)("animate-pulse  bg-primary/10",s),...t})}t(89095),t(84179),t(37528),t(98683),t(46754)},92703:(e,s,t)=>{"use strict";t.d(s,{AdressInput:()=>i});var a=t(95155),r=t(12115),l=t(24932);t(33207);let i=e=>{let{onChange:s}=e,[t,i]=(0,r.useState)(!1);return(0,r.useEffect)(()=>{i(!0)},[]),(0,a.jsx)(a.Fragment,{children:t?(0,a.jsx)(l.OO,{token:"1914854afcecce241bef1af5157a2694eda9a351",onChange:e=>null==s?void 0:s(null==e?void 0:e.value)}):null})}},85821:(e,s,t)=>{"use strict";t.d(s,{CartButton:()=>o});var a=t(95155),r=t(21567),l=t(83322),i=t(3100),n=t(10503),d=t(3997);let o=e=>{let{className:s}=e,t=(0,l.x)(e=>e);return(0,a.jsx)(d._H,{children:(0,a.jsxs)(d.$n,{loading:t.loading,className:(0,r.cn)("group relative",{"w-[105px]":t.loading},s),children:[(0,a.jsxs)("b",{children:[t.totalAmount," ₽"]}),(0,a.jsx)("span",{className:"h-full w-[1px] bg-white/30 mx-3"}),(0,a.jsxs)("div",{className:"flex items-center gap-1 transition duration-300 group-hover:opacity-0",children:[(0,a.jsx)(i.A,{size:16,className:"relative",strokeWidth:2}),(0,a.jsx)("b",{children:t.items.length})]}),(0,a.jsx)(n.A,{size:20,className:"absolute right-5 transition duration-300 -translate-x-2 opacity-0 group-hover:opacity-100 group-hover:translate-x-0"})]})})}},44799:(e,s,t)=>{"use strict";t.d(s,{CartDrawer:()=>A});var a=t(95155),r=t(12115),l=t(66217),i=t(31027),n=t(21567),d=t(87365);let o=l.bL,c=l.l9,m=l.bm,u=l.ZL,x=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)(l.hJ,{className:(0,n.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...r,ref:s})});x.displayName=l.hJ.displayName;let p=(0,i.F)("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=closed]:duration-300 data-[state=open]:duration-500 data-[state=open]:animate-in data-[state=closed]:animate-out",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4 border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),f=r.forwardRef((e,s)=>{let{side:t="right",className:r,children:i,...o}=e;return(0,a.jsxs)(u,{children:[(0,a.jsx)(x,{}),(0,a.jsxs)(l.UC,{ref:s,className:(0,n.cn)(p({side:t}),r),...o,children:[(0,a.jsxs)(l.bm,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[(0,a.jsx)(d.MKb,{className:"h-4 w-4"}),(0,a.jsx)("span",{className:"sr-only",children:"Close"})]}),i]})]})});f.displayName=l.UC.displayName;let h=e=>{let{className:s,...t}=e;return(0,a.jsx)("div",{className:(0,n.cn)("flex flex-col space-y-2 text-center sm:text-left",s),...t})};h.displayName="SheetHeader";let g=e=>{let{className:s,...t}=e;return(0,a.jsx)("div",{className:(0,n.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",s),...t})};g.displayName="SheetFooter";let b=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)(l.hE,{ref:s,className:(0,n.cn)("text-lg font-semibold text-foreground",t),...r})});b.displayName=l.hE.displayName,r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)(l.VY,{ref:s,className:(0,n.cn)("text-sm text-muted-foreground",t),...r})}).displayName=l.VY.displayName;var j=t(26880),v=t(44122),N=t(41598),y=t(10503),w=t(5565),z=t(48173),C=t.n(z),k=t(3997),S=t(43863);let A=e=>{let{children:s}=e,{totalAmount:t,updateItemQuantity:i,items:d,removeCartItem:u}=(0,j._$)(),[x,p]=r.useState(!1),z=(e,s,t)=>{i(e,"plus"===t?s+1:s-1)};return(0,a.jsxs)(o,{children:[(0,a.jsx)(c,{asChild:!0,children:s}),(0,a.jsx)(f,{className:"flex flex-col justify-between pb-0 bg-[#F4F1EE]",children:(0,a.jsxs)("div",{className:(0,n.cn)("flex flex-col h-full",!t&&"justify-center"),children:[t>0&&(0,a.jsx)(h,{children:(0,a.jsxs)(b,{children:["В корзине"," ",(0,a.jsxs)("span",{className:"font-bold",children:[d.length," товара"]})]})}),!t&&(0,a.jsxs)("div",{className:"flex flex-col items-center justify-center w-72 mx-auto",children:[(0,a.jsx)(l.L3,{className:"hidden"}),(0,a.jsx)(w.default,{src:"/assets/images/empty-box.svg",alt:"Empty cart",width:120,height:120}),(0,a.jsx)(k.hE,{size:"sm",text:"Корзина пустая",className:"text-center font-bold my-2"}),(0,a.jsx)("p",{className:"text-center text-neutral-500 mb-5",children:"Добавьте хотя бы одну пиццу, чтобы совершить заказ"}),(0,a.jsx)(m,{asChild:!0,children:(0,a.jsxs)(k.$n,{className:"w-56 h-12 text-base",size:"lg",children:[(0,a.jsx)(N.A,{className:"w-5 mr-2"}),"Вернуться назад"]})})]}),t>0&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"-mx-6 mt-5 overflow-auto flex-1",children:d.map(e=>(0,a.jsx)("div",{className:"mb-2",children:(0,a.jsx)(S.N,{id:e.id,imageUrl:e.imageUrl,details:(0,v.m6)(e.ingredients,e.pizzaType,e.pizzaSize),disabled:e.disabled,name:e.name,price:e.price,quantity:e.quantity,onClickCountButton:s=>z(e.id,e.quantity,s),onClickRemove:()=>u(e.id)})},e.id))}),(0,a.jsx)(g,{className:"-mx-6 bg-white p-8",children:(0,a.jsxs)("div",{className:"w-full",children:[(0,a.jsxs)("div",{className:"flex mb-4",children:[(0,a.jsxs)("span",{className:"flex flex-1 text-lg text-neutral-500",children:["Итого",(0,a.jsx)("div",{className:"flex-1 border-b border-dashed border-b-neutral-200 relative -top-1 mx-2"})]}),(0,a.jsxs)("span",{className:"font-bold text-lg",children:[t," ₽"]})]}),(0,a.jsx)(C(),{href:"/checkout",children:(0,a.jsxs)(k.$n,{type:"submit",className:"w-full h-12  text-base",onClick:()=>p(!0),loading:x,children:["Оформить заказ",(0,a.jsx)(y.A,{className:"w-5 ml-2"})]})})]})})]})]})})]})}},43863:(e,s,t)=>{"use strict";t.d(s,{N:()=>d});var a=t(95155),r=t(21567);t(12115);var l=t(35524),i=t(3997),n=t(84059);let d=e=>{let{imageUrl:s,name:t,price:d,quantity:o,details:c,disabled:m,onClickCountButton:u,onClickRemove:x,className:p}=e;return(0,a.jsxs)("div",{className:(0,r.cn)("flex bg-white p-5 gap-6",{"opacity-50 pointer-events-none":m},p),children:[(0,a.jsx)(n._V,{src:s}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)(n.R2,{name:t,details:c}),(0,a.jsx)("hr",{className:"my-3"}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)(i.Qr,{onClick:u,value:o}),(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)(n.gm,{value:d}),(0,a.jsx)(l.A,{onClick:x,className:"text-gray-400 cursor-pointer hover:text-gray-600",size:16})]})]})]})]})}},1015:(e,s,t)=>{"use strict";t.d(s,{Categories:()=>i});var a=t(95155),r=t(21567),l=t(91196);t(12115);let i=e=>{let{items:s,className:t}=e,i=(0,l.n)(e=>e.activeId);return(0,a.jsx)("div",{className:(0,r.cn)("inline-flex gap-1 bg-gray-50 p-1 rounded-2xl",t),children:s.map((e,s)=>{let{name:t,id:l}=e;return(0,a.jsx)("a",{className:(0,r.cn)("flex items-center font-bold h-11 rounded-2xl px-5",i===l&&"bg-white shadow-md shadow-gray-200 text-primary"),href:"/#".concat(t),children:(0,a.jsx)("button",{children:t})},s)})})}},88882:(e,s,t)=>{"use strict";t.d(s,{CheckboxFiltersGroup:()=>n});var a=t(95155),r=t(12115),l=t(3997),i=t(50073);let n=e=>{let{title:s,items:t,defaultItems:n,limit:d=5,searchInputPlaceholder:o="Поиск...",className:c,loading:m,onChange:u,selected:x,name:p}=e,[f,h]=(0,r.useState)(!1),[g,b]=(0,r.useState)("");if(m)return(0,a.jsxs)("div",{className:c,children:[(0,a.jsx)("p",{className:"font-bold mb-3",children:s}),...Array(d).fill(null).map((e,s)=>(0,a.jsx)(l.EA,{className:"h-5 mb-4 rounded-[5px]"},s)),(0,a.jsx)(l.EA,{className:"w-28 h-6 mb-4 rounded-[5px]"})]});let j=f?t.filter(e=>e.text.toLowerCase().includes(g.toLowerCase())):(n||t).slice(0,d);return(0,a.jsxs)("div",{className:c,children:[(0,a.jsx)("p",{className:"font-bold mb-3",children:s}),f&&(0,a.jsx)("div",{className:"mb-5",children:(0,a.jsx)(l.pd,{value:g,onChange:e=>{b(e.target.value)},placeholder:o,className:"bg-gray-50 border-none"})}),(0,a.jsx)("div",{className:"flex flex-col gap-4 max-h-96 pr-2 overflow-auto scrollbar",children:j.map((e,s)=>(0,a.jsx)(i.Y,{text:e.text,value:e.value,endAdornment:e.endAdornment,onCheckedChange:()=>null==u?void 0:u(e.value),checked:null==x?void 0:x.has(e.value),name:p},s))}),t.length>d&&(0,a.jsx)("div",{className:f?"border-t border-t-neutral-100 mt-4":"",children:(0,a.jsx)("button",{onClick:()=>h(!f),className:"text-primary mt-3",children:f?"Скрыть":"+ Показать все"})})]})}},7358:(e,s,t)=>{"use strict";t.d(s,{CheckoutItem:()=>n});var a=t(95155),r=t(21567),l=t(689);t(12115);var i=t(84059);let n=e=>{let{name:s,price:t,imageUrl:n,quantity:d,details:o,className:c,disabled:m,onClickCountButton:u,onClickRemove:x}=e;return(0,a.jsxs)("div",{className:(0,r.cn)("flex items-center justify-between",{"opacity-50 pointer-events-none":m},c),children:[(0,a.jsxs)("div",{className:"flex items-center gap-5 flex-1",children:[(0,a.jsx)(i._V,{src:n}),(0,a.jsx)(i.R2,{name:s,details:o})]}),(0,a.jsx)(i.gm,{value:t}),(0,a.jsxs)("div",{className:"flex items-center gap-5 ml-20",children:[(0,a.jsx)(i.Qr,{onClick:u,value:d}),(0,a.jsx)("button",{type:"button",onClick:x,children:(0,a.jsx)(l.A,{className:"text-gray-400 cursor-pointer hover:text-gray-600",size:20})})]})]})}},45360:(e,s,t)=>{"use strict";t.d(s,{ChoosePizzaForm:()=>o});var a=t(95155),r=t(63690),l=t(26880),i=t(44122),n=t(21567),d=t(3997);let o=e=>{let{name:s,items:t,imageUrl:o,ingredients:c,loading:m,onSubmit:u,className:x}=e,{size:p,type:f,selectedIngredients:h,availableSizes:g,currentItemId:b,setSize:j,setType:v,addIngredient:N}=(0,l.AR)(t),{totalPrice:y,textDetaills:w}=(0,i.X0)(f,p,t,c,h);return(0,a.jsxs)("div",{className:(0,n.cn)(x,"flex flex-1"),children:[(0,a.jsx)(d.X$,{imageUrl:o,size:p,alt:""}),(0,a.jsxs)("div",{className:"w-[490px] bg-[#f7f6f5] p-7",children:[(0,a.jsx)(d.hE,{text:s,size:"md",className:"font-extrabold mb-1"}),(0,a.jsx)("p",{className:"text-gray-400",children:w}),(0,a.jsxs)("div",{className:"flex flex-col gap-4 mt-5",children:[(0,a.jsx)(d.iH,{items:g,selectedValue:String(p),onClick:e=>j(Number(e))}),(0,a.jsx)(d.iH,{items:r.oy,selectedValue:String(f),onClick:e=>v(Number(e))})]}),(0,a.jsx)("div",{className:"bg-gray-50 p-5 rounded-md h-[420px] overflow-auto scrollbar mt-5",children:(0,a.jsx)("div",{className:"grid grid-cols-3 gap-3",children:c.map(e=>(0,a.jsx)(d.V0,{name:e.name,price:e.price,imageUrl:e.imageUrl,onClick:()=>N(e.id),active:h.has(e.id)},e.id))})}),(0,a.jsxs)(d.$n,{loading:m,onClick:()=>{b&&u(b,Array.from(h))},className:"h-[55px] px-10 text-base rounded-[18px] w-full mt-10",children:["Добавить в корзину за ",y," ₽"]})]})]})}},90046:(e,s,t)=>{"use strict";t.d(s,{k:()=>i});var a=t(95155),r=t(21567),l=t(689);t(12115);let i=e=>{let{onClick:s,className:t}=e;return(0,a.jsx)("button",{onClick:s,className:(0,r.cn)("absolute right-4 top-1/2 -translate-y-1/2 opacity-30 hover:opacity-100 cursor-pointer",t),children:(0,a.jsx)(l.A,{className:"h-5 w-5"})})}},2124:(e,s,t)=>{"use strict";t.d(s,{Q:()=>i});var a=t(95155),r=t(21567);t(12115);var l=t(76279);let i=e=>{let{className:s,onClick:t,value:i=1,size:n="sm"}=e;return(0,a.jsxs)("div",{className:(0,r.cn)("inline-flex items-center justify-between gap-3",s),children:[(0,a.jsx)(l.J,{onClick:()=>null==t?void 0:t("minus"),disabled:1===i,size:n,type:"minus"}),(0,a.jsx)("b",{className:"sm"===n?"text-sm":"text-md",children:i}),(0,a.jsx)(l.J,{onClick:()=>null==t?void 0:t("plus"),size:n,type:"plus"})]})}},76279:(e,s,t)=>{"use strict";t.d(s,{J:()=>d});var a=t(95155),r=t(4683),l=t(8209),i=t(21567),n=t(73312);let d=e=>{let{size:s="sm",disabled:t,type:d,onClick:o}=e;return(0,a.jsx)(n.Button,{variant:"outline",disabled:t,onClick:o,type:"button",className:(0,i.cn)("p-0 hover:bg-primary hover:text-white disabled:bg-white disabled:border-gray-400 disabled:text-gray-400","sm"===s?"w-[30px] h-[30px] rounded-[10px]":"w-[38px] h-[38px] rounded-md"),children:"plus"===d?(0,a.jsx)(r.A,{className:"sm"===s?"h-4":"h-5"}):(0,a.jsx)(l.A,{className:"sm"===s?"h-4":"h-5"})})}},10:(e,s,t)=>{"use strict";t.d(s,{y:()=>l});var a=t(95155),r=t(21567);t(12115);let l=e=>{let{text:s,className:t}=e;return(0,a.jsx)("p",{className:(0,r.cn)("text-red-500 text-sm",t),children:s})}},50073:(e,s,t)=>{"use strict";t.d(s,{Y:()=>l});var a=t(95155);t(12115);var r=t(3997);let l=e=>{let{text:s,value:t,endAdornment:l,onCheckedChange:i,checked:n,name:d}=e;return(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(r.Sc,{onCheckedChange:i,checked:n,value:t,className:"rounded-[8px] w-6 h-6",id:"checkbox-".concat(String(d),"-").concat(String(t))}),(0,a.jsx)("label",{htmlFor:"checkbox-".concat(String(d),"-").concat(String(t)),className:"leading-none cursor-pointer flex-1",children:s}),l]})}},77468:(e,s,t)=>{"use strict";t.d(s,{Filters:()=>i});var a=t(95155),r=t(26880),l=t(3997);let i=e=>{let{ingredients:s,loading:t}=(0,r.iO)(),i=(0,r.R7)();(0,r.LM)(i);let n=s.map(e=>({value:String(e.id),text:e.name}));return(0,a.jsxs)("div",{className:e.className,children:[(0,a.jsx)(l.hE,{text:"Фильтрация",size:"sm",className:"mb-5 font-bold"}),(0,a.jsx)(l.C$,{title:"Тип теста",name:"pizzaTypes",className:"mb-5",onChange:i.setPizzaTypes,selected:i.pizzaTypes,items:[{text:"Тонкое",value:"1"},{text:"Традиционное",value:"2"}]}),(0,a.jsx)(l.C$,{title:"Размеры",name:"sizes",className:"mb-5",onChange:i.setSizes,selected:i.sizes,items:[{text:"20 см",value:"20"},{text:"30 см",value:"30"},{text:"40 см",value:"40"}]}),(0,a.jsxs)("div",{className:"mt-5 border-y border-y-neutral-100 py-6 pb-7",children:[(0,a.jsx)("p",{className:"font-bold mb-3",children:"Цена от и до:"}),(0,a.jsxs)("div",{className:"flex gap-3 mb-5",children:[(0,a.jsx)(l.pd,{type:"number",placeholder:"0",min:0,max:1e3,value:String(i.prices.priceFrom),onChange:e=>i.setPrices("priceFrom",Number(e.target.value))}),(0,a.jsx)(l.pd,{type:"number",placeholder:"1000",min:100,max:1e3,value:String(i.prices.priceTo),onChange:e=>i.setPrices("priceTo",Number(e.target.value))})]}),(0,a.jsx)(l.F1,{min:0,max:1e3,step:1,value:[i.prices.priceFrom||0,i.prices.priceTo||1e3],onValueChange:e=>{i.setPrices("priceFrom",e[0]),i.setPrices("priceTo",e[1])}})]}),(0,a.jsx)(l.C$,{className:"mt-5",title:"Ингредиенты",name:"ingredients",limit:6,defaultItems:n.slice(0,6),items:n,loading:t,onChange:i.setSelectedIngredients,selected:i.selectedIngredients})]})}},58206:(e,s,t)=>{"use strict";t.d(s,{GroupVariants:()=>l});var a=t(95155),r=t(21567);let l=e=>{let{items:s,onClick:t,className:l,selectedValue:i}=e;return(0,a.jsx)("div",{className:(0,r.cn)(l,"flex justify-between bg-[#F3F3F7] rounded-3xl p-1 select-none"),children:s.map(e=>(0,a.jsx)("button",{onClick:()=>null==t?void 0:t(e.value),className:(0,r.cn)("flex items-center justify-center cursor-pointer h-[30px] px-5 flex-1 rounded-3xl transition-all duration-400 text-sm",{"bg-white shadow":e.value===i,"text-gray-500 opacity-50 pointer-events-none":e.disabled}),children:e.name},e.name))})}},74691:(e,s,t)=>{"use strict";t.d(s,{Headers:()=>x});var a=t(95155),r=t(21567),l=t(2615),i=t(5565),n=t(48173),d=t.n(n),o=t(76046),c=t(12115),m=t(55037),u=t(3997);let x=e=>{let{hasSearch:s=!0,hasCart:t=!0,className:n}=e,x=(0,o.useRouter)(),[p,f]=(0,c.useState)(!1),h=(0,o.useSearchParams)(),{data:g}=(0,l.useSession)();return console.log(g),(0,c.useEffect)(()=>{let e="";h.has("paid")&&(e="Заказ успешно оплачен! Информация отправлена на почту."),h.has("verified")&&(e="Почта успешно подтверждена!"),e&&setTimeout(()=>{x.replace("/"),m.default.success(e,{duration:3e3})},1e3)},[x,h]),(0,a.jsx)("header",{className:(0,r.cn)(" border-b",n),children:(0,a.jsxs)(u.mc,{className:"flex items-center justify-between py-8",children:[(0,a.jsx)(d(),{href:"/",children:(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsx)(i.default,{src:"/logo.png",width:35,height:35,alt:"Logo"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-2xl uppercase font-black",children:"Next Pizza"}),(0,a.jsx)("p",{className:"text-sm text-gray-400 leading-3",children:"вкусней уже некуда"})]})]})}),s&&(0,a.jsx)("div",{className:"mx-10 flex-1",children:(0,a.jsx)(u.DO,{})}),(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)(u.Ux,{open:p,onClose:()=>f(!1)}),(0,a.jsx)(u.ky,{onClickSignIn:()=>f(!0)}),t&&(0,a.jsx)(u.l7,{})]})]})})}},14570:(e,s,t)=>{"use strict";t.r(s),t.d(s,{ProductForm:()=>n});var a=t(95155),r=t(83322),l=t(55037),i=t(3997);let n=e=>{let{product:s,onSubmit:t}=e,{addCartItem:n,loading:d}=(0,r.x)(e=>e),o=s.items[0],c=!!o.pizzaType,m=async(e,a)=>{try{let r=null!=e?e:o.id;await n({productItemId:r,ingredients:a}),l.default.success(s.name+" добавлена в корзину"),null==t||t()}catch(e){l.default.error("Не удалось добавить товар в корзину"),console.error(e)}};return c?(0,a.jsx)(i.Wu,{imageUrl:s.imageUrl,name:s.name,ingredients:s.ingredients,items:s.items,onSubmit:m,loading:d}):(0,a.jsx)(i.JQ,{imageUrl:s.imageUrl,name:s.name,onSubmit:m,price:o.price,loading:d})}},86344:(e,s,t)=>{"use strict";t.d(s,{ProductsGroupList:()=>d});var a=t(95155),r=t(91196),l=t(12115),i=t(83594),n=t(3997);let d=e=>{let{title:s,items:t,className:d,categoryId:o}=e,c=(0,r.n)(e=>e.setActiveId),m=(0,l.useRef)(null),u=(0,i.A)(m,{root:null,threshold:.8});return(0,l.useEffect)(()=>{(null==u?void 0:u.isIntersecting)&&c(o)},[o,null==u?void 0:u.isIntersecting,c]),(0,a.jsxs)("div",{className:d,id:s,ref:m,children:[(0,a.jsx)(n.hE,{text:s,size:"lg",className:" mb-5 font-extrabold"}),(0,a.jsx)("div",{className:"grid grid-cols-3 gap-[50px]",children:t.map(e=>(0,a.jsx)(n.AA,{id:e.id,name:e.name,imageUrl:e.imageUrl,price:e.items[0].price,ingredients:e.ingredients},e.id))})]})}},53186:(e,s,t)=>{"use strict";t.d(s,{ProfileForm:()=>u});var a=t(95155),r=t(75828);let l=(0,r.createServerReference)("401625ede37f8e97ec5de146b5aaab36430c950b5c",r.callServer,void 0,r.findSourceMapURL,"updateUserInfo");var i=t(85060),n=t(2615);t(12115);var d=t(69606),o=t(55037),c=t(3997),m=t(34902);let u=e=>{let{data:s}=e,t=(0,d.mN)({resolver:(0,i.u)(m.$p),defaultValues:{fullName:s.fullName,email:s.email,password:"",confirmPassword:""}}),r=async e=>{try{await l({email:e.email,fullName:e.fullName,password:e.password}),o.default.error("Данные обновлены \uD83D\uDCDD",{icon:"✅"})}catch(e){return o.default.error("Ошибка при обновлении данных",{icon:"❌"})}};return(0,a.jsxs)(c.mc,{className:"my-10",children:[(0,a.jsx)(c.hE,{text:"Личные данные | #".concat(s.id),size:"md",className:"font-bold"}),(0,a.jsx)(d.Op,{...t,children:(0,a.jsxs)("form",{className:"flex flex-col gap-5 w-96 mt-10",onSubmit:t.handleSubmit(r),children:[(0,a.jsx)(c.ZQ,{name:"email",label:"E-Mail",required:!0}),(0,a.jsx)(c.ZQ,{name:"fullName",label:"Полное имя",required:!0}),(0,a.jsx)(c.ZQ,{type:"password",name:"password",label:"Новый пароль",required:!0}),(0,a.jsx)(c.ZQ,{type:"password",name:"confirmPassword",label:"Повторите пароль",required:!0}),(0,a.jsx)(c.$n,{disabled:t.formState.isSubmitting,className:"text-base mt-10",type:"submit",children:"Сохранить"}),(0,a.jsx)(c.$n,{onClick:()=>{(0,n.signOut)({callbackUrl:"/"})},variant:"secondary",disabled:t.formState.isSubmitting,className:"text-base",type:"button",children:"Выйти"})]})})]})}},26067:(e,s,t)=>{"use strict";t.d(s,{Providers:()=>d});var a=t(95155),r=t(2615),l=t(91325),i=t.n(l);t(12115);var n=t(55037);let d=e=>{let{children:s}=e;return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(r.SessionProvider,{children:s}),(0,a.jsx)(n.l$,{}),(0,a.jsx)(i(),{})]})}},29089:(e,s,t)=>{"use strict";t.d(s,{RangeSlider:()=>n});var a=t(95155),r=t(5900),l=t(12115),i=t(21567);let n=l.forwardRef((e,s)=>{let{className:t,min:n,max:d,step:o,formatLabel:c,value:m,onValueChange:u,...x}=e,p=Array.isArray(m)?m:[n,d],[f,h]=l.useState(p);return l.useEffect(()=>{h(Array.isArray(m)?m:[n,d])},[n,d,m]),(0,a.jsxs)(r.bL,{ref:s,min:n,max:d,step:o,value:f,onValueChange:e=>{h(e),u&&u(e)},className:(0,i.cn)("relative flex w-full touch-none select-none mb-6 items-center",t),...x,children:[(0,a.jsx)(r.CC,{className:"relative h-1 w-full grow overflow-hidden rounded-full bg-primary/20",children:(0,a.jsx)(r.Q6,{className:"absolute h-full bg-primary"})}),f.map((e,s)=>(0,a.jsxs)(l.Fragment,{children:[(0,a.jsx)("div",{className:"absolute text-center",style:{left:"calc(".concat((e-n)/(d-n)*100,"% + 0px)"),top:"10px"},children:(0,a.jsx)("span",{className:"text-sm",children:c?c(e):e})}),(0,a.jsx)(r.zi,{className:"block h-4 w-4 rounded-full border border-primary/50 bg-white shadow transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50"})]},s))]})});n.displayName=r.bL.displayName},32304:(e,s,t)=>{"use strict";t.d(s,{Y:()=>r});var a=t(95155);t(12115);let r=()=>(0,a.jsx)("span",{className:"text-red-500",children:"*"})},36741:(e,s,t)=>{"use strict";t.d(s,{SearchInput:()=>u});var a=t(95155),r=t(21567),l=t(6672),i=t(62591),n=t(48173),d=t.n(n),o=t(12115),c=t(16308),m=t(21740);let u=e=>{let{className:s}=e,[t,n]=o.useState(""),[u,x]=o.useState(!1),[p,f]=o.useState([]),h=o.useRef(null);(0,c.A)(h,()=>{x(!1)}),(0,m.A)(async()=>{try{let e=await l.j.products.search(t);f(e)}catch(e){console.log(e)}},100,[t]);let g=()=>{x(!1),n(""),f([])};return(0,a.jsxs)(a.Fragment,{children:[u&&(0,a.jsx)("div",{className:"fixed top-0 left-0 bottom-0 right-0 bg-black/50 z-30"}),(0,a.jsxs)("div",{ref:h,className:(0,r.cn)("flex rounded-2xl flex-1 justify-between relative h-11 z-30",s),children:[(0,a.jsx)(i.A,{className:"absolute top-1/2 translate-y-[-50%] left-3 h-5 text-gray-400"}),(0,a.jsx)("input",{className:"rounded-2xl outline-none w-full bg-gray-100 pl-11",type:"text",placeholder:"Найти пиццу...",onFocus:()=>x(!0),value:t,onChange:e=>n(e.target.value)}),p.length>0&&(0,a.jsx)("div",{className:(0,r.cn)("absolute w-full bg-white rounded-xl py-2 top-14 shadow-md transition-all duration-200 invisible opacity-0 z-30",u&&"visible opacity-100 top-12"),children:p.map(e=>(0,a.jsxs)(d(),{onClick:g,className:"flex items-center gap-3 w-full px-3 py-2 hover:bg-primary/10",href:"/product/".concat(e.id),children:[(0,a.jsx)("img",{className:"rounded-sm h-8 w-8",src:e.imageUrl,alt:e.name}),(0,a.jsx)("span",{children:e.name})]},e.id))})]})]})}},794:(e,s,t)=>{"use strict";t.d(s,{Stories:()=>m});var a=t(95155),r=t(21567),l=t(6672),i=t(689),n=t(12115),d=t(43307),o=t.n(d),c=t(3997);let m=e=>{let{className:s}=e,[t,d]=(0,n.useState)([]),[m,u]=(0,n.useState)(!1),[x,p]=(0,n.useState)();(0,n.useEffect)(()=>{!async function(){d(await l.j.stories.getAll())}()},[]);let f=e=>{p(e),e.items.length>0&&u(!0)};return(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)(c.mc,{className:(0,r.cn)("flex items-center justify-between gap-2 my-10",s),children:[0===t.length&&[...Array(6)].map((e,s)=>(0,a.jsx)("div",{className:"w-[200px] h-[250px] bg-gray-200 rounded-md animate-pulse"},s)),t.map(e=>(0,a.jsx)("img",{onClick:()=>f(e),className:"rounded-md cursor-pointer",height:250,width:200,src:e.previewImageUrl},e.id)),m&&(0,a.jsx)("div",{className:"absolute left-0 top-0 w-full h-full bg-black/80 flex items-center justify-center z-30",children:(0,a.jsxs)("div",{className:"relative",style:{width:520},children:[(0,a.jsx)("button",{className:"absolute -right-10 -top-5 z-30",onClick:()=>u(!1),children:(0,a.jsx)(i.A,{className:"absolute top-0 right-0 w-8 h-8 text-white/50"})}),(0,a.jsx)(o(),{onAllStoriesEnd:()=>u(!1),stories:(null==x?void 0:x.items.map(e=>({url:e.sourceUrl})))||[],defaultInterval:3e3,width:520,height:800})]})})]})})}},84059:(e,s,t)=>{"use strict";t.d(s,{Qr:()=>a,_V:()=>i,R2:()=>d,gm:()=>n});let a=t(2124).Q;var r=t(95155),l=t(21567);let i=e=>{let{src:s,className:t}=e;return(0,r.jsx)("img",{className:(0,l.cn)("w-[60px] h-[60px]",t),src:s})},n=e=>{let{value:s,className:t}=e;return(0,r.jsxs)("h2",{className:(0,l.cn)("font-bold",t),children:[s," ₽"]})},d=e=>{let{name:s,details:t,className:a}=e;return(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:(0,l.cn)("flex items-center justify-between",a),children:(0,r.jsx)("h2",{className:"text-lg font-bold flex-1 leading-6",children:s})}),t&&(0,r.jsx)("p",{className:"text-xs text-gray-400 w-[90%]",children:t})]})}},61308:(e,s,t)=>{"use strict";t.d(s,{CheckoutAddressForm:()=>i});var a=t(95155),r=t(3997),l=t(69606);let i=e=>{let{className:s}=e,{control:t}=(0,l.xW)();return(0,a.jsx)(r.v_,{title:"3. Адрес доставки",className:s,children:(0,a.jsxs)("div",{className:"flex flex-col gap-5",children:[(0,a.jsx)(l.xI,{control:t,name:"address",render:e=>{var s;let{field:t,fieldState:l}=e;return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(r.to,{onChange:t.onChange}),(null===(s=l.error)||void 0===s?void 0:s.message)&&(0,a.jsx)(r.yn,{text:l.error.message})]})}}),(0,a.jsx)(r.hg,{name:"comment",className:"text-base",placeholder:"Комментарий к заказу",rows:5})]})})}},39350:(e,s,t)=>{"use strict";t.d(s,{FormInput:()=>o});var a=t(95155),r=t(69606),l=t(33900),i=t(90046),n=t(10),d=t(32304);let o=e=>{var s;let{className:t,name:o,label:c,required:m,...u}=e,{register:x,formState:{errors:p},watch:f,setValue:h}=(0,r.xW)(),g=f(o),b=null===(s=p[o])||void 0===s?void 0:s.message;return(0,a.jsxs)("div",{className:t,children:[c&&(0,a.jsxs)("p",{className:"font-medium mb-2",children:[c," ",m&&(0,a.jsx)(d.Y,{})]}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(l.p,{className:"h-12 text-md",...x(o),...u}),g&&(0,a.jsx)(i.k,{onClick:()=>{h(o,"",{shouldValidate:!0})}})]}),b&&(0,a.jsx)(n.y,{text:b,className:"mt-2"})]})}},40624:(e,s,t)=>{"use strict";t.d(s,{FormTextarea:()=>n});var a=t(95155);t(12115);var r=t(69606),l=t(46754),i=t(90046);let n=e=>{var s;let{className:t,name:n,label:d,required:o,...c}=e,{register:m,formState:{errors:u},watch:x,setValue:p}=(0,r.xW)(),f=x(n),h=null===(s=u[n])||void 0===s?void 0:s.message;return(0,a.jsxs)("div",{className:t,children:[(0,a.jsxs)("p",{className:"font-medium mb-2",children:[d," ",o&&(0,a.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(l.T,{className:"h-12 text-md",...m(n),...c}),f&&(0,a.jsx)(i.k,{onClick:()=>{p(n,"")}})]}),h&&(0,a.jsx)("p",{className:"text-red-500 text-sm mt-2",children:h})]})}},46463:(e,s,t)=>{"use strict";t.d(s,{ChooseProductModal:()=>d});var a=t(95155),r=t(3997),l=t(51344),i=t(21567),n=t(76046);let d=e=>{let{className:s,product:t}=e,d=(0,n.useRouter)();return(0,a.jsx)(l.Dialog,{open:!!t,onOpenChange:()=>{d.back()},children:(0,a.jsxs)(l.Cf,{className:(0,i.cn)("p-0 w-[1060px] max-w-[1060px] min-h-[600px]  bg-white overflow-hidden",s),children:[(0,a.jsx)(l.L3,{className:"hidden"}),(0,a.jsx)(r.hE,{text:t.name}),(0,a.jsx)(r.iz,{product:t,onSubmit:()=>d.back()})]})})}},71161:(e,s,t)=>{"use strict";t.d(s,{AuthModal:()=>o});var a=t(95155),r=t(3997),l=t(51344),i=t(2615),n=t(12115),d=t(23683);let o=e=>{let{open:s,onClose:t}=e,[o,c]=n.useState("login"),m=()=>{t()};return(0,a.jsx)(l.Dialog,{open:s,onOpenChange:m,children:(0,a.jsxs)(l.Cf,{className:"w-[450px] bg-white p-10",children:[(0,a.jsx)(l.L3,{className:"hidden"}),"login"===o?(0,a.jsx)(d.QB,{onClose:m}):(0,a.jsx)(d.s4,{onClose:m}),(0,a.jsx)("hr",{}),(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsxs)(r.$n,{variant:"secondary",onClick:()=>(0,i.signIn)("github",{callbackUrl:"/",redirect:!0}),type:"button",className:"gap-2 h-12 p-2 flex-1",children:[(0,a.jsx)("img",{className:"w-6 h-6",src:"https://github.githubassets.com/favicons/favicon.svg"}),"GitHub"]}),(0,a.jsxs)(r.$n,{variant:"secondary",onClick:()=>(0,i.signIn)("google",{callbackUrl:"/",redirect:!0}),type:"button",className:"gap-2 h-12 p-2 flex-1",children:[(0,a.jsx)("img",{className:"w-6 h-6",src:"https://fonts.gstatic.com/s/i/productlogos/googleg/v6/24px.svg"}),"Google"]})]}),(0,a.jsx)(r.$n,{variant:"outline",onClick:()=>{c("login"===o?"register":"login")},type:"button",className:"h-12",children:"login"!==o?"Войти":"Регистрация"})]})})}},40557:(e,s,t)=>{"use strict";t.d(s,{RegisterForm:()=>m});var a=t(95155);t(12115);var r=t(69606),l=t(85060),i=t(55037),n=t(34902),d=t(3997),o=t(75828);let c=(0,o.createServerReference)("40c91a012e0d6696764c05d5fa88122f55eadfd5a2",o.callServer,void 0,o.findSourceMapURL,"registerUser"),m=e=>{let{onClose:s,onClickLogin:t}=e,o=(0,r.mN)({resolver:(0,l.u)(n.$p),defaultValues:{email:"",fullName:"",password:"",confirmPassword:""}}),m=async e=>{try{await c({email:e.email,fullName:e.fullName,password:e.password}),i.default.error("Регистрация успешна \uD83D\uDCDD. Подтвердите свою почту",{icon:"✅"}),null==s||s()}catch(e){return i.default.error("Неверный E-Mail или пароль",{icon:"❌"})}};return(0,a.jsx)(r.Op,{...o,children:(0,a.jsxs)("form",{className:"flex flex-col gap-5",onSubmit:o.handleSubmit(m),children:[(0,a.jsx)(d.ZQ,{name:"email",label:"E-Mail",required:!0}),(0,a.jsx)(d.ZQ,{name:"fullName",label:"Полное имя",required:!0}),(0,a.jsx)(d.ZQ,{name:"password",label:"Пароль",type:"password",required:!0}),(0,a.jsx)(d.ZQ,{name:"confirmPassword",label:"Подтвердите пароль",type:"password",required:!0}),(0,a.jsx)(d.$n,{loading:o.formState.isSubmitting,className:"h-12 text-base",type:"submit",children:"Зарегистрироваться"})]})})}},34902:(e,s,t)=>{"use strict";t.d(s,{$:()=>l,$p:()=>i});var a=t(43415);let r=a.z.string().min(4,{message:"Введите корректный пароль"}),l=a.z.object({email:a.z.string().email({message:"Введите корректную почту"}),password:r}),i=l.merge(a.z.object({fullName:a.z.string().min(2,{message:"Введите имя и фамилию"}),confirmPassword:r})).refine(e=>e.password===e.confirmPassword,{message:"Пароли не совпадают",path:["confirmPassword"]})},23683:(e,s,t)=>{"use strict";t.d(s,{Ux:()=>a.AuthModal,QB:()=>m,s4:()=>u.RegisterForm});var a=t(71161),r=t(95155),l=t(85060);t(12115);var i=t(69606),n=t(34902),d=t(3997),o=t(2615),c=t(55037);let m=e=>{let{onClose:s}=e,t=(0,i.mN)({resolver:(0,l.u)(n.$),defaultValues:{email:"",password:""}}),a=async e=>{try{let t=await (0,o.signIn)("credentials",{...e,redirect:!1});if(!(null==t?void 0:t.ok))throw Error();c.default.success("Вы успешно вошли в аккаунт",{icon:"✅"}),null==s||s()}catch(e){c.default.error("Не удалось войти в аккаунт",{icon:"❌"})}};return(0,r.jsx)(i.Op,{...t,children:(0,r.jsxs)("form",{className:"flex flex-col gap-5",onSubmit:t.handleSubmit(a),children:[(0,r.jsxs)("div",{className:"flex justify-between items-center",children:[(0,r.jsxs)("div",{className:"mr-2",children:[(0,r.jsx)(d.hE,{text:"Вход в аккаунт",size:"md",className:"font-bold"}),(0,r.jsx)("p",{className:"text-gray-400",children:"Введите свою почту, чтобы войти в свой аккаунт"})]}),(0,r.jsx)("img",{src:"/assets/images/phone-icon.png",alt:"phone-icon",width:60,height:60})]}),(0,r.jsx)(d.ZQ,{name:"email",label:"E-Mail",required:!0}),(0,r.jsx)(d.ZQ,{name:"password",label:"Пароль",type:"password",required:!0}),(0,r.jsx)(d.$n,{loading:t.formState.isSubmitting,className:"h-12 text-base",type:"submit",children:"Войти"})]})})};var u=t(40557)},73312:(e,s,t)=>{"use strict";t.r(s),t.d(s,{Button:()=>c,buttonVariants:()=>o});var a=t(95155),r=t(12317),l=t(31027),i=t(12115),n=t(21567),d=t(41240);let o=(0,l.F)("inline-flex items-center justify-center whitespace-nowrap rounded-md active:translate-y-[1px] text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 disabled:bg-gray-500",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-primary text-primary bg-transparent hover:bg-secondary",secondary:"bg-secondary text-primary hover:bg-secondary/50",ghost:"hover:bg-secondary hover:text-secondary-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),c=i.forwardRef((e,s)=>{let{className:t,variant:l,size:i,asChild:c=!1,children:m,disabled:u,loading:x,...p}=e,f=c?r.DX:"button";return(0,a.jsx)(f,{disabled:u||x,className:(0,n.cn)(o({variant:l,size:i,className:t})),ref:s,...p,children:x?(0,a.jsx)(d.A,{className:"w-5 h-5 animate-spin"}):m})});c.displayName="Button"},2291:(e,s,t)=>{"use strict";t.d(s,{Checkbox:()=>d});var a=t(95155),r=t(86352),l=t(27193),i=t(12115),n=t(21567);let d=i.forwardRef((e,s)=>{let{className:t,...i}=e;return(0,a.jsx)(r.bL,{ref:s,className:(0,n.cn)("peer h-4 w-4 shrink-0 bg-gray-100 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",t),...i,children:(0,a.jsx)(r.C1,{className:(0,n.cn)("flex items-center justify-center text-current"),children:(0,a.jsx)(l.A,{className:"h-4 w-4",strokeWidth:3})})})});d.displayName=r.bL.displayName},51344:(e,s,t)=>{"use strict";t.d(s,{Cf:()=>m,Dialog:()=>d,L3:()=>u});var a=t(95155),r=t(66217),l=t(689),i=t(12115),n=t(21567);let d=r.bL;r.l9;let o=r.ZL;r.bm;let c=i.forwardRef((e,s)=>{let{className:t,...l}=e;return(0,a.jsx)(r.hJ,{ref:s,className:(0,n.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...l})});c.displayName=r.hJ.displayName;let m=i.forwardRef((e,s)=>{let{className:t,children:i,...d}=e;return(0,a.jsxs)(o,{children:[(0,a.jsx)(c,{}),(0,a.jsxs)(r.UC,{ref:s,className:(0,n.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...d,children:[i,(0,a.jsxs)(r.bm,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[(0,a.jsx)(l.A,{className:"h-4 w-4"}),(0,a.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})});m.displayName=r.UC.displayName;let u=i.forwardRef((e,s)=>{let{className:t,...l}=e;return(0,a.jsx)(r.hE,{ref:s,className:(0,n.cn)("text-lg font-semibold leading-none tracking-tight",t),...l})});u.displayName=r.hE.displayName,i.forwardRef((e,s)=>{let{className:t,...l}=e;return(0,a.jsx)(r.VY,{ref:s,className:(0,n.cn)("text-sm text-muted-foreground",t),...l})}).displayName=r.VY.displayName},71743:(e,s,t)=>{"use strict";t.d(s,{Drawer:()=>n});var a=t(95155),r=t(12115),l=t(69847),i=t(21567);let n=e=>{let{shouldScaleBackground:s=!0,...t}=e;return(0,a.jsx)(l._s.Root,{shouldScaleBackground:s,...t})};n.displayName="Drawer",l._s.Trigger;let d=l._s.Portal;l._s.Close;let o=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)(l._s.Overlay,{ref:s,className:(0,i.cn)("fixed inset-0 z-50 bg-black/80",t),...r})});o.displayName=l._s.Overlay.displayName,r.forwardRef((e,s)=>{let{className:t,children:r,...n}=e;return(0,a.jsxs)(d,{children:[(0,a.jsx)(o,{}),(0,a.jsxs)(l._s.Content,{ref:s,className:(0,i.cn)("fixed inset-x-0 bottom-0 z-50 mt-24 flex h-auto flex-col rounded-t-[10px] border bg-background",t),...n,children:[(0,a.jsx)("div",{className:"mx-auto mt-4 h-2 w-[100px] rounded-full bg-muted"}),r]})]})}).displayName="DrawerContent",r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)(l._s.Title,{ref:s,className:(0,i.cn)("text-lg font-semibold leading-none tracking-tight",t),...r})}).displayName=l._s.Title.displayName,r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)(l._s.Description,{ref:s,className:(0,i.cn)("text-sm text-muted-foreground",t),...r})}).displayName=l._s.Description.displayName},57485:(e,s,t)=>{"use strict";t.d(s,{DropdownMenu:()=>d});var a=t(95155),r=t(12115),l=t(80937),i=t(87365),n=t(21567);let d=l.bL;l.l9,l.YJ,l.ZL,l.Pb,l.z6,r.forwardRef((e,s)=>{let{className:t,inset:r,children:d,...o}=e;return(0,a.jsxs)(l.ZP,{ref:s,className:(0,n.cn)("flex cursor-default gap-2 select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",r&&"pl-8",t),...o,children:[d,(0,a.jsx)(i.vKP,{className:"ml-auto"})]})}).displayName=l.ZP.displayName,r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)(l.G5,{ref:s,className:(0,n.cn)("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...r})}).displayName=l.G5.displayName,r.forwardRef((e,s)=>{let{className:t,sideOffset:r=4,...i}=e;return(0,a.jsx)(l.ZL,{children:(0,a.jsx)(l.UC,{ref:s,sideOffset:r,className:(0,n.cn)("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md","data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...i})})}).displayName=l.UC.displayName,r.forwardRef((e,s)=>{let{className:t,inset:r,...i}=e;return(0,a.jsx)(l.q7,{ref:s,className:(0,n.cn)("relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&>svg]:size-4 [&>svg]:shrink-0",r&&"pl-8",t),...i})}).displayName=l.q7.displayName,r.forwardRef((e,s)=>{let{className:t,children:r,checked:d,...o}=e;return(0,a.jsxs)(l.H_,{ref:s,className:(0,n.cn)("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),checked:d,...o,children:[(0,a.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,a.jsx)(l.VF,{children:(0,a.jsx)(i.Srz,{className:"h-4 w-4"})})}),r]})}).displayName=l.H_.displayName,r.forwardRef((e,s)=>{let{className:t,children:r,...d}=e;return(0,a.jsxs)(l.hN,{ref:s,className:(0,n.cn)("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...d,children:[(0,a.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,a.jsx)(l.VF,{children:(0,a.jsx)(i.RiX,{className:"h-4 w-4 fill-current"})})}),r]})}).displayName=l.hN.displayName,r.forwardRef((e,s)=>{let{className:t,inset:r,...i}=e;return(0,a.jsx)(l.JU,{ref:s,className:(0,n.cn)("px-2 py-1.5 text-sm font-semibold",r&&"pl-8",t),...i})}).displayName=l.JU.displayName,r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)(l.wv,{ref:s,className:(0,n.cn)("-mx-1 my-1 h-px bg-muted",t),...r})}).displayName=l.wv.displayName},33900:(e,s,t)=>{"use strict";t.d(s,{p:()=>i});var a=t(95155),r=t(12115),l=t(21567);let i=r.forwardRef((e,s)=>{let{className:t,type:r,...i}=e;return(0,a.jsx)("input",{type:r,className:(0,l.cn)("flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-sm shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50",t),ref:s,...i})});i.displayName="Input"},89095:(e,s,t)=>{"use strict";t.d(s,{Popover:()=>n});var a=t(95155),r=t(12115),l=t(80532),i=t(21567);let n=l.bL;l.l9,l.Mz,r.forwardRef((e,s)=>{let{className:t,align:r="center",sideOffset:n=4,...d}=e;return(0,a.jsx)(l.ZL,{children:(0,a.jsx)(l.UC,{ref:s,align:r,sideOffset:n,className:(0,i.cn)("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...d})})}).displayName=l.UC.displayName},84179:(e,s,t)=>{"use strict";t.d(s,{RadioGroup:()=>d});var a=t(95155),r=t(12115),l=t(87365),i=t(852),n=t(21567);let d=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)(i.bL,{className:(0,n.cn)("grid gap-2",t),...r,ref:s})});d.displayName=i.bL.displayName,r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)(i.q7,{ref:s,className:(0,n.cn)("aspect-square h-4 w-4 rounded-full border border-primary text-primary shadow focus:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50",t),...r,children:(0,a.jsx)(i.C1,{className:"flex items-center justify-center",children:(0,a.jsx)(l.Srz,{className:"h-3.5 w-3.5 fill-primary"})})})}).displayName=i.q7.displayName},37528:(e,s,t)=>{"use strict";t.d(s,{Select:()=>d});var a=t(95155),r=t(12115),l=t(87365),i=t(92714),n=t(21567);let d=i.bL;i.YJ,i.WT,r.forwardRef((e,s)=>{let{className:t,children:r,...d}=e;return(0,a.jsxs)(i.l9,{ref:s,className:(0,n.cn)("flex h-9 w-full items-center justify-between whitespace-nowrap rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-1 focus:ring-ring disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...d,children:[r,(0,a.jsx)(i.In,{asChild:!0,children:(0,a.jsx)(l.TBE,{className:"h-4 w-4 opacity-50"})})]})}).displayName=i.l9.displayName;let o=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)(i.PP,{ref:s,className:(0,n.cn)("flex cursor-default items-center justify-center py-1",t),...r,children:(0,a.jsx)(l.Mtm,{})})});o.displayName=i.PP.displayName;let c=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)(i.wn,{ref:s,className:(0,n.cn)("flex cursor-default items-center justify-center py-1",t),...r,children:(0,a.jsx)(l.D3D,{})})});c.displayName=i.wn.displayName,r.forwardRef((e,s)=>{let{className:t,children:r,position:l="popper",...d}=e;return(0,a.jsx)(i.ZL,{children:(0,a.jsxs)(i.UC,{ref:s,className:(0,n.cn)("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===l&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:l,...d,children:[(0,a.jsx)(o,{}),(0,a.jsx)(i.LM,{className:(0,n.cn)("p-1","popper"===l&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:r}),(0,a.jsx)(c,{})]})})}).displayName=i.UC.displayName,r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)(i.JU,{ref:s,className:(0,n.cn)("px-2 py-1.5 text-sm font-semibold",t),...r})}).displayName=i.JU.displayName,r.forwardRef((e,s)=>{let{className:t,children:r,...d}=e;return(0,a.jsxs)(i.q7,{ref:s,className:(0,n.cn)("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-2 pr-8 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...d,children:[(0,a.jsx)("span",{className:"absolute right-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,a.jsx)(i.VF,{children:(0,a.jsx)(l.Srz,{className:"h-4 w-4"})})}),(0,a.jsx)(i.p4,{children:r})]})}).displayName=i.q7.displayName,r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)(i.wv,{ref:s,className:(0,n.cn)("-mx-1 my-1 h-px bg-muted",t),...r})}).displayName=i.wv.displayName},98683:(e,s,t)=>{"use strict";t.d(s,{Slider:()=>n});var a=t(95155),r=t(12115),l=t(5900),i=t(21567);let n=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsxs)(l.bL,{ref:s,className:(0,i.cn)("relative flex w-full touch-none select-none items-center",t),...r,children:[(0,a.jsx)(l.CC,{className:"relative h-1.5 w-full grow overflow-hidden rounded-full bg-primary/20",children:(0,a.jsx)(l.Q6,{className:"absolute h-full bg-primary"})}),(0,a.jsx)(l.zi,{className:"block h-4 w-4 rounded-full border border-primary/50 bg-background shadow transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50"})]})});n.displayName=l.bL.displayName},46754:(e,s,t)=>{"use strict";t.d(s,{T:()=>i});var a=t(95155),r=t(12115),l=t(21567);let i=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)("textarea",{className:(0,l.cn)("flex min-h-[60px] w-full rounded-md border border-input bg-transparent px-3 py-2 text-base shadow-sm placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:s,...r})});i.displayName="Textarea"},63690:(e,s,t)=>{"use strict";t.d(s,{D3:()=>r,TX:()=>a,oy:()=>l});let a={1:"традиционная",2:"тонкая"},r=Object.entries({20:"Маленькая",30:"Средняя",40:"Большая"}).map(e=>{let[s,t]=e;return{name:t,value:s}}),l=Object.entries(a).map(e=>{let[s,t]=e;return{name:t,value:s}})},26880:(e,s,t)=>{"use strict";t.d(s,{_$:()=>l,R7:()=>d,iO:()=>c,AR:()=>u,LM:()=>f});var a=t(83322),r=t(12115);let l=()=>{let e=(0,a.x)(e=>e);return(0,r.useEffect)(()=>{e.fetchCartItems()},[]),e};var i=t(76046),n=t(13949);let d=()=>{var e,s,t;let a=(0,i.useSearchParams)(),[l,{toggle:d}]=(0,n.A)(new Set(null===(e=a.get("ingredients"))||void 0===e?void 0:e.split(","))),[o,{toggle:c}]=(0,n.A)(new Set(a.has("sizes")?null===(s=a.get("sizes"))||void 0===s?void 0:s.split(","):[])),[m,{toggle:u}]=(0,n.A)(new Set(a.has("pizzaTypes")?null===(t=a.get("pizzaTypes"))||void 0===t?void 0:t.split(","):[])),[x,p]=r.useState({priceFrom:Number(a.get("priceFrom"))||void 0,priceTo:Number(a.get("priceTo"))||void 0}),f=(e,s)=>{p(t=>({...t,[e]:s}))};return r.useMemo(()=>({sizes:o,pizzaTypes:m,selectedIngredients:l,prices:x,setPrices:f,setPizzaTypes:u,setSizes:c,setSelectedIngredients:d}),[o,m,l,x,u,c,d])};var o=t(6672);let c=()=>{let[e,s]=r.useState([]),[t,a]=r.useState(!0);return r.useEffect(()=>{(async function(){try{a(!0);let e=await o.j.ingredients.getAll();s(e)}catch(e){console.log(e)}finally{a(!1)}})()},[]),{ingredients:e,loading:t}};var m=t(44122);let u=e=>{var s;let[t,a]=r.useState(20),[l,i]=r.useState(1),[d,{toggle:o}]=(0,n.A)(new Set([])),c=(0,m.YW)(l,e),u=null===(s=e.find(e=>e.pizzaType===l&&e.size===t))||void 0===s?void 0:s.id;return r.useEffect(()=>{let e=null==c?void 0:c.find(e=>Number(e.value)===t&&!e.disabled),s=null==c?void 0:c.find(e=>!e.disabled);!e&&s&&a(Number(s.value))},[c,t,l]),{size:t,type:l,selectedIngredients:d,availableSizes:c,currentItemId:u,setSize:a,setType:i,addIngredient:o}};var x=t(51973),p=t.n(x);let f=e=>{let s=(0,i.useRouter)(),t=(0,r.useRef)(!1);(0,r.useEffect)(()=>{if(t.current){let t={...e.prices,pizzaTypes:Array.from(e.pizzaTypes),sizes:Array.from(e.sizes),ingredients:Array.from(e.selectedIngredients)},a=p().stringify(t,{arrayFormat:"comma"});s.push("?".concat(a),{scroll:!1})}t.current=!0},[e])}},44122:(e,s,t)=>{"use strict";t.d(s,{XW:()=>a,YW:()=>i,Pd:()=>d,m6:()=>o,X0:()=>c});let a=(e,s,t,a,r)=>{var l;return((null===(l=t.find(t=>t.pizzaType===e&&t.size===s))||void 0===l?void 0:l.price)||0)+a.filter(e=>r.has(e.id)).reduce((e,s)=>e+s.price,0)};t(2818);var r=t(11094);t.g.prisma||new r.PrismaClient;var l=t(63690);let i=(e,s)=>{let t=s.filter(s=>s.pizzaType===e);return l.D3.map(e=>({name:e.name,value:e.value,disabled:!t.some(s=>Number(s.size)===Number(e.value))}))},n=e=>(e.ingredients.reduce((e,s)=>e+s.price,0)+e.productItem.price)*e.quantity,d=e=>({items:e.items.map(e=>({id:e.id,quantity:e.quantity,name:e.productItem.product.name,imageUrl:e.productItem.product.imageUrl,price:n(e),pizzaSize:e.productItem.size,pizzaType:e.productItem.pizzaType,disabled:!1,ingredients:e.ingredients.map(e=>({name:e.name,price:e.price}))})),totalAmount:e.totalAmount}),o=(e,s,t)=>{let a=[];if(t&&s){let e=l.TX[s];a.push("".concat(e," ").concat(t," см"))}return e&&a.push(...e.map(e=>e.name)),a.join(", ")},c=(e,s,t,r,i)=>({totalPrice:a(e,s,t,r,i),textDetaills:"".concat(s," см, ").concat(l.TX[e]," пицца")});t(12115),t(47140),t(2818)},21567:(e,s,t)=>{"use strict";t.d(s,{cn:()=>l});var a=t(43463),r=t(69795);function l(){for(var e=arguments.length,s=Array(e),t=0;t<e;t++)s[t]=arguments[t];return(0,r.QP)((0,a.$)(s))}},6672:(e,s,t)=>{"use strict";t.d(s,{j:()=>b});var a={};t.r(a),t.d(a,{getMe:()=>o});var r={};t.r(r),t.d(r,{addCartItem:()=>x,getCart:()=>c,removeCartItem:()=>u,updateItemQuantity:()=>m});var l={};t.r(l),t.d(l,{getAll:()=>f});var i={};t.r(i),t.d(i,{search:()=>h});var n={};t.r(n),t.d(n,{getAll:()=>g});let d=t(82651).A.create({baseURL:"/api"}),o=async()=>(await d.get("/auth/me/")).data,c=async()=>(await d.get("/cart")).data,m=async(e,s)=>(await d.patch("/cart/"+e,{quantity:s})).data,u=async e=>(await d.delete("/cart/"+e)).data,x=async e=>(await d.post("/cart",e)).data;var p=function(e){return e.SEARCH_PRODUCTS="products/search",e.INGREDIENTS="ingredients",e}({});let f=async()=>(await d.get(p.INGREDIENTS)).data,h=async e=>(await d.get(p.SEARCH_PRODUCTS,{params:{query:e}})).data,g=async()=>{let{data:e}=await d.get("/stories");return e},b={products:i,ingredients:l,cart:r,auth:a,stories:n}},83322:(e,s,t)=>{"use strict";t.d(s,{x:()=>i});var a=t(99827),r=t(44122),l=t(6672);let i=(0,a.v)(e=>({items:[],error:!1,loading:!0,totalAmount:0,fetchCartItems:async()=>{try{e({loading:!0,error:!1});let s=await l.j.cart.getCart();e((0,r.Pd)(s))}catch(s){console.error(s),e({error:!0})}finally{e({loading:!1})}},updateItemQuantity:async(s,t)=>{try{e({loading:!0,error:!1});let a=await l.j.cart.updateItemQuantity(s,t);e((0,r.Pd)(a))}catch(s){console.error(s),e({error:!0})}finally{e({loading:!1})}},removeCartItem:async s=>{try{e(e=>({loading:!0,error:!1,items:e.items.map(e=>e.id===s?{...e,disabled:!0}:e)}));let t=await l.j.cart.removeCartItem(s);e((0,r.Pd)(t))}catch(s){console.error(s),e({error:!0})}finally{e(e=>({loading:!1,items:e.items.map(e=>({...e,disabled:!1}))}))}},addCartItem:async s=>{try{e({loading:!0,error:!1});let t=await l.j.cart.addCartItem(s);e((0,r.Pd)(t))}catch(s){console.error(s),e({error:!0})}finally{e({loading:!1})}}}))},91196:(e,s,t)=>{"use strict";t.d(s,{n:()=>a});let a=(0,t(99827).v)(e=>({activeId:1,setActiveId:s=>e({activeId:s})}))}}]);